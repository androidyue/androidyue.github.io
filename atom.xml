<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Thinkblog]]></title>
  <link href="http://androidyue.github.io/atom.xml" rel="self"/>
  <link href="http://androidyue.github.io/"/>
  <updated>2014-01-12T17:21:55+08:00</updated>
  <id>http://androidyue.github.io/</id>
  <author>
    <name><![CDATA[androidyue]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[Set The Preferred Application in Android]]></title>
    <link href="http://androidyue.github.io/blog/2014/01/12/set-the-preferred-application-in-android/"/>
    <updated>2014-01-12T14:29:00+08:00</updated>
    <id>http://androidyue.github.io/blog/2014/01/12/set-the-preferred-application-in-android</id>
    <content type="html"><![CDATA[<p>A great application should provide a function to let users set it as the preferred or default application. In this post, I will make a description on PreferredApplication<br/>
Before an application is about to be set as default, it has two possibilities. One is that there is already a default application and the other is no default application.</p>

<h3>Detect the Default Application Exists or Not</h3>

<p>This is really important. It determines what we should do next.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class='java'><span class='line'><span class="kd">public</span> <span class="kt">void</span> <span class="nf">testGetDefaultActivity</span><span class="o">()</span> <span class="o">{</span>
</span><span class='line'>    <span class="n">PackageManager</span> <span class="n">pm</span> <span class="o">=</span> <span class="n">mContext</span><span class="o">.</span><span class="na">getPackageManager</span><span class="o">();</span>
</span><span class='line'>    <span class="n">Intent</span> <span class="n">intent</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Intent</span><span class="o">(</span><span class="n">Intent</span><span class="o">.</span><span class="na">ACTION_VIEW</span><span class="o">);</span>
</span><span class='line'>    <span class="n">intent</span><span class="o">.</span><span class="na">setData</span><span class="o">(</span><span class="n">Uri</span><span class="o">.</span><span class="na">parse</span><span class="o">(</span><span class="s">&quot;http://www.google.com&quot;</span><span class="o">));</span>
</span><span class='line'>    <span class="n">ResolveInfo</span> <span class="n">info</span> <span class="o">=</span> <span class="n">pm</span><span class="o">.</span><span class="na">resolveActivity</span><span class="o">(</span><span class="n">intent</span><span class="o">,</span> <span class="n">PackageManager</span><span class="o">.</span><span class="na">MATCH_DEFAULT_ONLY</span><span class="o">);</span>
</span><span class='line'>    <span class="n">Log</span><span class="o">.</span><span class="na">i</span><span class="o">(</span><span class="n">VIEW_LOG_TAG</span><span class="o">,</span> <span class="s">&quot;getDefaultActivity info = &quot;</span> <span class="o">+</span> <span class="n">info</span> <span class="o">+</span> <span class="s">&quot;;pkgName = &quot;</span> <span class="o">+</span> <span class="n">info</span><span class="o">.</span><span class="na">activityInfo</span><span class="o">.</span><span class="na">packageName</span><span class="o">);</span>
</span><span class='line'><span class="o">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>Result before I set Maxthon Browser as the default one. If no default one is set, the system will call the com.android.internal.app.ResolverActivity</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='java'><span class='line'><span class="n">I</span><span class="o">/</span><span class="n">View</span>    <span class="o">(</span> <span class="mi">1145</span> <span class="o">):</span> <span class="n">View</span> <span class="n">getDefaultActivity</span> <span class="n">info</span> <span class="o">=</span> <span class="n">ResolveInfo</span><span class="o">{</span><span class="mi">410</span><span class="n">e4868</span> <span class="n">com</span><span class="o">.</span><span class="na">android</span><span class="o">.</span><span class="na">internal</span><span class="o">.</span><span class="na">app</span><span class="o">.</span><span class="na">ResolverActivity</span> <span class="n">p</span><span class="o">=</span><span class="mi">0</span> <span class="n">o</span><span class="o">=</span><span class="mi">0</span> <span class="n">m</span><span class="o">=</span><span class="mh">0x0</span><span class="o">};</span><span class="n">pkgName</span> <span class="o">=</span> <span class="n">android</span>
</span></code></pre></td></tr></table></div></figure>


<p>Result after I set Maxthon Browser as the default one. If the default one is set just call the default activity</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='java'><span class='line'><span class="n">I</span><span class="o">/</span><span class="n">View</span>    <span class="o">(</span> <span class="mi">1145</span> <span class="o">):</span> <span class="n">View</span> <span class="n">getDefaultActivity</span> <span class="n">info</span> <span class="o">=</span> <span class="n">ResolveInfo</span><span class="o">{</span><span class="mi">410</span><span class="n">ae1e8</span> <span class="n">com</span><span class="o">.</span><span class="na">mx</span><span class="o">.</span><span class="na">browser</span><span class="o">.</span><span class="na">MxBrowserActivity</span> <span class="n">p</span><span class="o">=</span><span class="mi">0</span> <span class="n">o</span><span class="o">=</span><span class="mi">0</span> <span class="n">m</span><span class="o">=</span><span class="mh">0x208000</span><span class="o">};</span><span class="n">pkgName</span> <span class="o">=</span> <span class="n">com</span><span class="o">.</span><span class="na">mx</span><span class="o">.</span><span class="na">browser</span>
</span></code></pre></td></tr></table></div></figure>


<p>So it is really clear that you could use the following code to judge.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='java'><span class='line'><span class="c1">//Use this to determine whether default application is set or not</span>
</span><span class='line'><span class="kt">boolean</span> <span class="n">defaultSet</span> <span class="o">=</span> <span class="o">!</span><span class="s">&quot;android&quot;</span><span class="o">.</span><span class="na">equals</span><span class="o">(</span><span class="n">info</span><span class="o">.</span><span class="na">activityInfo</span><span class="o">.</span><span class="na">packageName</span><span class="o">);</span>
</span></code></pre></td></tr></table></div></figure>


<h3>If the default one is already set</h3>

<p>Just remove the preferred settings of the default application. However you could not do this in the code due to the permission control. It&rsquo;s generally done by users manually. What you could do is lead the user to the clear default page(installedAppDetails)</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class='java'><span class='line'><span class="kd">public</span> <span class="kt">void</span> <span class="nf">testStartAppDetails</span><span class="o">()</span> <span class="o">{</span>
</span><span class='line'>    <span class="c1">//Use the destination package name</span>
</span><span class='line'>    <span class="n">Intent</span> <span class="n">intent</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Intent</span><span class="o">(</span><span class="n">android</span><span class="o">.</span><span class="na">provider</span><span class="o">.</span><span class="na">Settings</span><span class="o">.</span><span class="na">ACTION_APPLICATION_DETAILS_SETTINGS</span><span class="o">,</span> <span class="n">Uri</span><span class="o">.</span><span class="na">parse</span><span class="o">(</span><span class="s">&quot;package:com.mx.browser&quot;</span><span class="o">));</span>
</span><span class='line'>    <span class="n">getActivity</span><span class="o">().</span><span class="na">startActivity</span><span class="o">(</span><span class="n">intent</span><span class="o">);</span>
</span><span class='line'><span class="o">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>Then you navigate the user to the installedAppDetails and you could show some tips to click Button Clear Default.
<img src="http://androidyue.github.io/images/post_images/installed_app_details_clear_default.png">
When users go back from installedAppDetails to your application check is there any default appliction now. If the default application(in general, it&rsquo;s not the previous one) remains repeat the above actions until there is not default one.</p>

<h3>No default One</h3>

<p>Now there is only one step to set ours as the default one. You could not do this in codes. It&rsquo;s also required manual operation. What you could do is popup the selecting dialog and tip the use select your one.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class='java'><span class='line'><span class="kd">public</span> <span class="kt">void</span> <span class="nf">testStartChooseDialog</span><span class="o">()</span> <span class="o">{</span>
</span><span class='line'>    <span class="n">Intent</span> <span class="n">intent</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Intent</span><span class="o">();</span>
</span><span class='line'>    <span class="n">intent</span><span class="o">.</span><span class="na">setAction</span><span class="o">(</span><span class="s">&quot;android.intent.action.VIEW&quot;</span><span class="o">);</span>
</span><span class='line'>    <span class="n">intent</span><span class="o">.</span><span class="na">addCategory</span><span class="o">(</span><span class="s">&quot;android.intent.category.BROWSABLE&quot;</span><span class="o">);</span>
</span><span class='line'>    <span class="n">intent</span><span class="o">.</span><span class="na">setData</span><span class="o">(</span><span class="n">Uri</span><span class="o">.</span><span class="na">parse</span><span class="o">(</span><span class="s">&quot;http://androidyue.github.io/&quot;</span><span class="o">));</span>
</span><span class='line'>    <span class="n">intent</span><span class="o">.</span><span class="na">setComponent</span><span class="o">(</span><span class="k">new</span> <span class="n">ComponentName</span><span class="o">(</span><span class="s">&quot;android&quot;</span><span class="o">,</span><span class="s">&quot;com.android.internal.app.ResolverActivity&quot;</span><span class="o">));</span>
</span><span class='line'>    <span class="n">getActivity</span><span class="o">().</span><span class="na">startActivity</span><span class="o">(</span><span class="n">intent</span><span class="o">);</span>
</span><span class='line'><span class="o">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>The dialog is like this <br/>
<img src="http://androidyue.github.io/images/post_images/choose_default_activity_dialog.png"><br/>
What&rsquo;s more, your tips is really essential. Make sure to notify that  &ldquo;Use by default for this action&rdquo; should be  checked.</p>

<h3>How to Clear my own default</h3>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='java'><span class='line'><span class="kd">public</span> <span class="kt">void</span> <span class="nf">testClearDefault</span><span class="o">()</span> <span class="o">{</span>
</span><span class='line'>    <span class="n">PackageManager</span> <span class="n">pm</span> <span class="o">=</span> <span class="n">mContext</span><span class="o">.</span><span class="na">getPackageManager</span><span class="o">();</span>
</span><span class='line'>    <span class="n">pm</span><span class="o">.</span><span class="na">clearPackagePreferredActivities</span><span class="o">(</span><span class="n">mContext</span><span class="o">.</span><span class="na">getPackageName</span><span class="o">());</span>
</span><span class='line'><span class="o">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>Note you could only clear packagePreferredActivities of your own.</p>

<h3>A step into system control</h3>

<p>the following settings is some content of /data/system/packages.xml</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
</pre></td><td class='code'><pre><code class='xml'><span class='line'><span class="nt">&lt;preferred-activities&gt;</span>
</span><span class='line'><span class="nt">&lt;item</span> <span class="na">name=</span><span class="s">&quot;com.mx.browser/.MxBrowserActivity&quot;</span> <span class="na">match=</span><span class="s">&quot;200000&quot;</span> <span class="na">set=</span><span class="s">&quot;2&quot;</span><span class="nt">&gt;</span>
</span><span class='line'><span class="nt">&lt;set</span> <span class="na">name=</span><span class="s">&quot;com.android.browser/.BrowserActivity&quot;</span> <span class="nt">/&gt;</span>
</span><span class='line'><span class="nt">&lt;set</span> <span class="na">name=</span><span class="s">&quot;com.mx.browser/.MxBrowserActivity&quot;</span> <span class="nt">/&gt;</span>
</span><span class='line'><span class="nt">&lt;filter&gt;</span>
</span><span class='line'><span class="nt">&lt;action</span> <span class="na">name=</span><span class="s">&quot;android.intent.action.VIEW&quot;</span> <span class="nt">/&gt;</span>
</span><span class='line'><span class="nt">&lt;cat</span> <span class="na">name=</span><span class="s">&quot;android.intent.category.BROWSABLE&quot;</span> <span class="nt">/&gt;</span>
</span><span class='line'><span class="nt">&lt;cat</span> <span class="na">name=</span><span class="s">&quot;android.intent.category.DEFAULT&quot;</span> <span class="nt">/&gt;</span>
</span><span class='line'><span class="nt">&lt;scheme</span> <span class="na">name=</span><span class="s">&quot;http&quot;</span> <span class="nt">/&gt;</span>
</span><span class='line'><span class="nt">&lt;/filter&gt;</span>
</span><span class='line'><span class="nt">&lt;/item&gt;</span>
</span><span class='line'><span class="nt">&lt;/preferred-activities&gt;</span>
</span></code></pre></td></tr></table></div></figure>


<h3>Special</h3>

<ul>
<li>What will system do if I install or uninstall a related  application?</li>
<li>Actually the system provide you a special chance to rechoose if a related activity is added or removed. When you click the url it should popup a dialog not use the previous preferred activity.</li>
<li>When the system popup the choosing dialog?</li>
<li>After some tests I guess the system will make  a list of  interested activities instantly. And then use the previous list to compare with the list stored in /data/system/packages.xml. If they are not the same, the choose dialog should be poped up.</li>
</ul>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Package Stopped State Since Android 3.1]]></title>
    <link href="http://androidyue.github.io/blog/2014/01/04/package-stop-state-since-android-3-dot-1/"/>
    <updated>2014-01-04T20:07:00+08:00</updated>
    <id>http://androidyue.github.io/blog/2014/01/04/package-stop-state-since-android-3-dot-1</id>
    <content type="html"><![CDATA[<h2>First Bite</h2>

<p>Since Android 3.1, Android has introduced a LaunchControl mechanism. It&rsquo;s call Stopped State.
Here is what Google describes</p>

<h4>What is Stopped State</h4>

<blockquote><p>Starting from Android 3.1, the system&rsquo;s package manager keeps track of applications that are in a stopped state and provides a means of controlling their launch from background processes and other applications.</p>

<p>Note that an application&rsquo;s stopped state is not the same as an Activity&rsquo;s stopped state. The system manages those two stopped states separately.</p></blockquote>

<h4>Why Android Adds this</h4>

<blockquote><p>Note that the system adds FLAG_EXCLUDE_STOPPED_PACKAGES to all broadcast intents. It does this to prevent broadcasts from background services from inadvertently or unnecessarily launching components of stoppped applications. A background service or application can override this behavior by adding the FLAG_INCLUDE_STOPPED_PACKAGES flag to broadcast intents that should be allowed to activate stopped applications.</p></blockquote>

<p>As the above references point out it will prevent broadcast intents delivering to stopped packages. Actually this control mechanism will ensure safety and save energy.</p>

<h2>State Switch from/to Stopped State</h2>

<p>What Google says</p>

<blockquote><p>Applications are in a stopped state when they are first installed but are not yet launched and when they are manually stopped by the user (in Manage Applications).</p></blockquote>

<h3>To Stopped Sate</h3>

<ul>
<li>Manually force-stop in Manage Application of Settings.</li>
<li>adb shell am force-stop package-name</li>
<li>Use Hidden Method ActivityManager.forceStopPackages(String packageName) with Right Permission &lt;uses-permission android:name=&ldquo;android.permission.FORCE_STOP_PACKAGES&rdquo;/> It&rsquo;s without test.</li>
</ul>


<h3>To Normal State (Not Stopped)</h3>

<ul>
<li>Manually Launch your application.</li>
<li>Use adb to Activate components(Activity or Receiver ) of the application</li>
</ul>


<h2>Send Broadcast Intent to Stopped Packages</h2>

<blockquote><p>The platform defines two new intent flags that let a sender specify whether the Intent should be allowed to activate components in stopped application.</p>

<p>FLAG_INCLUDE_STOPPED_PACKAGES — Include intent filters of stopped applications in the list of potential targets to resolve against.
FLAG_EXCLUDE_STOPPED_PACKAGES — Exclude intent filters of stopped applications from the list of potential targets.
When neither or both of these flags is defined in an intent, the default behavior is to include filters of stopped applications in the list of potential targets.</p></blockquote>

<ul>
<li>Add your Intent Flag FLAG_INCLUDE_STOPPED_PACKAGES in Java</li>
<li>Use ADB with Flag FLAG_INCLUDE_STOPPED_PACKAGES such as <strong>adb shell am broadcast -a com.android.vending.INSTALL_REFERRER -f 32</strong></li>
</ul>


<h2>Check Package Stopped</h2>

<ul>
<li>Manually Check InstalledAppDetails in Manage applications of Settings.</li>
<li>Step into Terminal of the Device and <strong>cat /data/system/packages-stopped.xml</strong></li>
</ul>


<h2>special Issues</h2>

<ul>
<li>Q:If My application has no activities and it just has a receiver, How can I activate and receive common broadcast intents?</li>
<li><p>A:Actually your above application is actually Not Stopped State when it&rsquo;s first installed. Becuase It has no launcher clickable chance. It can receive normal broadcast smoothly If you do not manually force-stop it.</p></li>
<li><p>Q:Will the system application be in stopped state when it&rsquo;s first installed?</p></li>
<li><p>A:The apps located in /system/app are what we called System Applications. It&rsquo;s Not in stopped state when it&rsquo;s installed.</p></li>
<li><p>Q:Will Google Play App still sends campaign broadcast to my application to keep track of install referrers?</p></li>
<li>A:Actually It does work smoothly. And I have tested on 4.0 OS device. I think the Play Store App adds FLAG_INCLUDE_STOPPED_PACKAGES to the broadcast intent.</li>
</ul>


<h2>Referrences Links</h2>

<ul>
<li><a href="http://developer.android.com/about/versions/android-3.1.html">http://developer.android.com/about/versions/android-3.1.html</a></li>
</ul>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[日语文法:ください]]></title>
    <link href="http://androidyue.github.io/blog/2014/01/04/ri-yu-wen-fa-kudasai/"/>
    <updated>2014-01-04T15:59:00+08:00</updated>
    <id>http://androidyue.github.io/blog/2014/01/04/ri-yu-wen-fa-kudasai</id>
    <content type="html"><![CDATA[<h2>Nをください</h2>

<ul>
<li>意思：请&hellip;</li>
<li>例句：</li>
<li>りんごをください　　请把苹果给我</li>
<li>ほんを私にください　请把书给我一下。</li>
</ul>


<h2>动词て形+ください</h2>

<ul>
<li>意思：请&hellip;</li>
<li>例句：</li>
<li>座ってください　　请坐</li>
<li>食べてください　　请品尝一下</li>
</ul>


<h2>动词未然形+ないでください</h2>

<ul>
<li>意思：请不要&hellip;</li>
<li>例句:</li>
<li>写真を撮らないでください　请不要拍照</li>
<li>心配しないでください　　　请不要担心</li>
</ul>


<p>以上三种中的<strong>ください</strong>都可以替换成<strong>くださいませんか</strong>，这样显得更加礼貌。
ください前面可以接动词的连用形，包括第一连用形和第二连用形。关于动词连用形请参考<a href="http://bulo.hujiang.com/question/192068/###">http://bulo.hujiang.com/question/192068/###</a></p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Fix missing command takes too long to respond in Fedora]]></title>
    <link href="http://androidyue.github.io/blog/2013/12/28/fix-missing-command-takes-too-long-to-respond-in-fedora/"/>
    <updated>2013-12-28T21:51:00+08:00</updated>
    <id>http://androidyue.github.io/blog/2013/12/28/fix-missing-command-takes-too-long-to-respond-in-fedora</id>
    <content type="html"><![CDATA[<p>I am getting well on with Fedora now. However when I was a fresher to Fedora, I have met a lot of problems. <br/>
One of them is that When I type some wrong commands It will take too long to respond. It&rsquo;s totally different from Ubuntu,which I used before. However I like it could quickly reponse even through the command does not exist.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nb">unset </span>command_not_found_handle
</span></code></pre></td></tr></table></div></figure>


<p>Ok.Add the above code to .bashrc And it works.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[BashBites:Check Files]]></title>
    <link href="http://androidyue.github.io/blog/2013/12/28/bashbites-check-files/"/>
    <updated>2013-12-28T10:38:00+08:00</updated>
    <id>http://androidyue.github.io/blog/2013/12/28/bashbites-check-files</id>
    <content type="html"><![CDATA[<h3>Check a file exists</h3>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="c">#!/bin/bash</span>
</span><span class='line'><span class="k">if</span> <span class="o">[[</span> -e /tmp/adb.log  <span class="o">]]</span>
</span><span class='line'><span class="k">then</span>
</span><span class='line'><span class="k">    </span><span class="nb">echo</span> <span class="s2">&quot;Exists&quot;</span>
</span><span class='line'><span class="k">else</span>
</span><span class='line'><span class="k">    </span><span class="nb">echo</span> <span class="s2">&quot;Not Exists&quot;</span>
</span><span class='line'><span class="k">fi</span>
</span></code></pre></td></tr></table></div></figure>


<h3>Check Empty String</h3>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="k">if</span> <span class="o">[[</span> -z <span class="s2">&quot;$emptyString&quot;</span>  <span class="o">]]</span>
</span><span class='line'><span class="k">then</span>
</span><span class='line'><span class="k">    </span><span class="nb">echo</span> <span class="s2">&quot;Empty&quot;</span>
</span><span class='line'><span class="k">else</span>
</span><span class='line'><span class="k">    </span><span class="nb">echo</span> <span class="s2">&quot;Not Empty&quot;</span>
</span><span class='line'><span class="k">fi</span>
</span></code></pre></td></tr></table></div></figure>


<p>Here is a reference material from Stackoverflow<a href="http://stackoverflow.com/questions/3767267/check-if-file-exists">http://stackoverflow.com/questions/3767267/check-if-file-exists</a></p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
</pre></td><td class='code'><pre><code class='python'><span class='line'><span class="o">-</span><span class="n">d</span> <span class="n">FILE</span>
</span><span class='line'>    <span class="n">FILE</span> <span class="n">exists</span> <span class="ow">and</span> <span class="ow">is</span> <span class="n">a</span> <span class="n">directory</span>
</span><span class='line'><span class="o">-</span><span class="n">e</span> <span class="n">FILE</span>
</span><span class='line'>    <span class="n">FILE</span> <span class="n">exists</span>
</span><span class='line'><span class="o">-</span><span class="n">f</span> <span class="n">FILE</span>
</span><span class='line'>    <span class="n">FILE</span> <span class="n">exists</span> <span class="ow">and</span> <span class="ow">is</span> <span class="n">a</span> <span class="n">regular</span> <span class="nb">file</span>
</span><span class='line'><span class="o">-</span><span class="n">h</span> <span class="n">FILE</span>
</span><span class='line'>    <span class="n">FILE</span> <span class="n">exists</span> <span class="ow">and</span> <span class="ow">is</span> <span class="n">a</span> <span class="n">symbolic</span> <span class="n">link</span> <span class="p">(</span><span class="n">same</span> <span class="k">as</span> <span class="o">-</span><span class="n">L</span><span class="p">)</span>
</span><span class='line'><span class="o">-</span><span class="n">r</span> <span class="n">FILE</span>
</span><span class='line'>    <span class="n">FILE</span> <span class="n">exists</span> <span class="ow">and</span> <span class="ow">is</span> <span class="n">readable</span>
</span><span class='line'><span class="o">-</span><span class="n">s</span> <span class="n">FILE</span>
</span><span class='line'>    <span class="n">FILE</span> <span class="n">exists</span> <span class="ow">and</span> <span class="n">has</span> <span class="n">a</span> <span class="n">size</span> <span class="n">greater</span> <span class="n">than</span> <span class="n">zero</span>
</span><span class='line'><span class="o">-</span><span class="n">w</span> <span class="n">FILE</span>
</span><span class='line'>    <span class="n">FILE</span> <span class="n">exists</span> <span class="ow">and</span> <span class="ow">is</span> <span class="n">writable</span>
</span><span class='line'><span class="o">-</span><span class="n">x</span> <span class="n">FILE</span>
</span><span class='line'>    <span class="n">FILE</span> <span class="n">exists</span> <span class="ow">and</span> <span class="ow">is</span> <span class="n">executable</span>
</span><span class='line'><span class="o">-</span><span class="n">z</span> <span class="n">STRING</span>
</span><span class='line'>    <span class="n">the</span> <span class="n">length</span> <span class="n">of</span> <span class="n">STRING</span> <span class="ow">is</span> <span class="n">zero</span>
</span></code></pre></td></tr></table></div></figure>


<p>For more detailed information, please visit <a href="http://linux.about.com/library/cmd/blcmdl1_test.htm">http://linux.about.com/library/cmd/blcmdl1_test.htm</a></p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[BashBites:Loop Through In A Directory]]></title>
    <link href="http://androidyue.github.io/blog/2013/12/28/bashbites-loop-through-in-a-directory/"/>
    <updated>2013-12-28T10:12:00+08:00</updated>
    <id>http://androidyue.github.io/blog/2013/12/28/bashbites-loop-through-in-a-directory</id>
    <content type="html"><![CDATA[<p>The trick is really easy. Just to keep record.Here we take the /tmp folder as the desired one.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="c">#!/bin/bash </span>
</span><span class='line'><span class="nb">cd</span> /tmp
</span><span class='line'><span class="k">for </span>file in <span class="sb">`</span>ls<span class="sb">`</span>
</span><span class='line'><span class="k">do</span>
</span><span class='line'><span class="k">    </span><span class="nb">echo</span> <span class="nv">$file</span>
</span><span class='line'><span class="k">done</span>
</span></code></pre></td></tr></table></div></figure>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[日语文法例句1]]></title>
    <link href="http://androidyue.github.io/blog/2013/12/15/ri-yu-wen-fa-zong-jie-1/"/>
    <updated>2013-12-15T14:19:00+08:00</updated>
    <id>http://androidyue.github.io/blog/2013/12/15/ri-yu-wen-fa-zong-jie-1</id>
    <content type="html"><![CDATA[<h2>存在句</h2>

<ul>
<li>机の上に猫がいます</li>
<li>ここに本があります</li>
<li>猫は机の上にいます</li>
<li>本はここにあります</li>
</ul>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[连接宽带错误769：无法连接到指定目标]]></title>
    <link href="http://androidyue.github.io/blog/2013/12/14/lian-jie-kuan-dai-cuo-wu-769-wu-fa-lian-jie-dao-zhi-ding-mu-biao/"/>
    <updated>2013-12-14T18:59:00+08:00</updated>
    <id>http://androidyue.github.io/blog/2013/12/14/lian-jie-kuan-dai-cuo-wu-769-wu-fa-lian-jie-dao-zhi-ding-mu-biao</id>
    <content type="html"><![CDATA[<p>连接宽带错误769：无法连接到指定目标<br/>
相关信息：找不到netcfg.hlp<br/>
原因：禁用了本地连接<br/>
解决方法：启用本地连接</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[适宜的环境]]></title>
    <link href="http://androidyue.github.io/blog/2013/12/14/gua-yi-de-huan-jing/"/>
    <updated>2013-12-14T18:41:00+08:00</updated>
    <id>http://androidyue.github.io/blog/2013/12/14/gua-yi-de-huan-jing</id>
    <content type="html"><![CDATA[<p>适宜的环境，这里介绍适宜的温度和湿度，数据来自TANITA湿度计的附带资料</p>

<h2>夏季</h2>

<ul>
<li>温度：21-25 摄氏度</li>
<li>湿度：55-65%

<h2>冬季</h2></li>
<li>温度：16-20 摄氏度</li>
<li>湿度：45-55%</li>
</ul>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Start InstalledAppDetails Activity With A Specific Package Name]]></title>
    <link href="http://androidyue.github.io/blog/2013/12/11/start-installedappdetails-activity-with-a-specific-package-name/"/>
    <updated>2013-12-11T16:49:00+08:00</updated>
    <id>http://androidyue.github.io/blog/2013/12/11/start-installedappdetails-activity-with-a-specific-package-name</id>
    <content type="html"><![CDATA[<p>This trick works. It&rsquo;s really easy.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='java'><span class='line'><span class="c1">//Let take com.mx.browser as the package name</span>
</span><span class='line'><span class="n">Intent</span> <span class="n">intent</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Intent</span><span class="o">(</span><span class="n">android</span><span class="o">.</span><span class="na">provider</span><span class="o">.</span><span class="na">Settings</span><span class="o">.</span><span class="na">ACTION_APPLICATION_DETAILS_SETTINGS</span><span class="o">,</span> <span class="n">Uri</span><span class="o">.</span><span class="na">parse</span><span class="o">(</span><span class="s">&quot;package:com.mx.browser&quot;</span><span class="o">));</span>
</span><span class='line'><span class="n">startActivity</span><span class="o">(</span><span class="n">intent</span><span class="o">);</span>
</span></code></pre></td></tr></table></div></figure>


<p>Here is the javadoc of android.provider.Settings.ACTION_APPLICATION_DETAILS_SETTINGS</p>

<blockquote><p>Activity Action: Show screen of details about a particular application.<br/>
In some cases, a matching Activity may not exist, so ensure you safeguard against this.<br/>
Input: The Intent&rsquo;s data URI specifies the application package name to be shown, with the &ldquo;package&rdquo; scheme. That is &ldquo;package:com.my.app&rdquo;.<br/>
Output: Nothing.</p></blockquote>

<p>A glance at how InstalledAppDetails get packageName</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
</pre></td><td class='code'><pre><code class='java'><span class='line'><span class="kd">final</span> <span class="n">Bundle</span> <span class="n">args</span> <span class="o">=</span> <span class="n">getArguments</span><span class="o">();</span>
</span><span class='line'><span class="n">String</span> <span class="n">packageName</span> <span class="o">=</span> <span class="o">(</span><span class="n">args</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> <span class="o">?</span> <span class="n">args</span><span class="o">.</span><span class="na">getString</span><span class="o">(</span><span class="n">ARG_PACKAGE_NAME</span><span class="o">)</span> <span class="o">:</span> <span class="kc">null</span><span class="o">;</span>
</span><span class='line'><span class="k">if</span> <span class="o">(</span><span class="n">packageName</span> <span class="o">==</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>    <span class="n">Intent</span> <span class="n">intent</span> <span class="o">=</span> <span class="o">(</span><span class="n">args</span> <span class="o">==</span> <span class="kc">null</span><span class="o">)</span> <span class="o">?</span>
</span><span class='line'>    <span class="n">getActivity</span><span class="o">().</span><span class="na">getIntent</span><span class="o">()</span> <span class="o">:</span> <span class="o">(</span><span class="n">Intent</span><span class="o">)</span> <span class="n">args</span><span class="o">.</span><span class="na">getParcelable</span><span class="o">(</span><span class="s">&quot;intent&quot;</span><span class="o">);</span>
</span><span class='line'>    <span class="k">if</span> <span class="o">(</span><span class="n">intent</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>        <span class="n">packageName</span> <span class="o">=</span> <span class="n">intent</span><span class="o">.</span><span class="na">getData</span><span class="o">().</span><span class="na">getSchemeSpecificPart</span><span class="o">();</span>
</span><span class='line'>    <span class="o">}</span>
</span><span class='line'><span class="o">}</span>
</span></code></pre></td></tr></table></div></figure>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Refer String Resources From Other Applications]]></title>
    <link href="http://androidyue.github.io/blog/2013/12/11/refer-string-resources-from-other-applications/"/>
    <updated>2013-12-11T16:22:00+08:00</updated>
    <id>http://androidyue.github.io/blog/2013/12/11/refer-string-resources-from-other-applications</id>
    <content type="html"><![CDATA[<p>The following code works. Here take getting String resource for example.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
</pre></td><td class='code'><pre><code class='java'><span class='line'><span class="kd">public</span> <span class="kt">void</span> <span class="nf">testUseAndroidString</span><span class="o">()</span> <span class="o">{</span>
</span><span class='line'>
</span><span class='line'>    <span class="n">Context</span> <span class="n">context</span> <span class="o">=</span> <span class="n">getContext</span><span class="o">();</span>
</span><span class='line'>    <span class="n">Resources</span> <span class="n">res</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
</span><span class='line'>    <span class="k">try</span> <span class="o">{</span>
</span><span class='line'>        <span class="c1">//I want to use the clear_activities string in Package com.android.settings</span>
</span><span class='line'>        <span class="n">res</span> <span class="o">=</span> <span class="n">context</span><span class="o">.</span><span class="na">getPackageManager</span><span class="o">().</span><span class="na">getResourcesForApplication</span><span class="o">(</span><span class="s">&quot;com.android.settings&quot;</span><span class="o">);</span>
</span><span class='line'>        <span class="kt">int</span> <span class="n">resourceId</span> <span class="o">=</span> <span class="n">res</span><span class="o">.</span><span class="na">getIdentifier</span><span class="o">(</span><span class="s">&quot;com.android.settings:string/clear_activities&quot;</span><span class="o">,</span> <span class="kc">null</span><span class="o">,</span> <span class="kc">null</span><span class="o">);</span>
</span><span class='line'>        <span class="k">if</span><span class="o">(</span><span class="mi">0</span> <span class="o">!=</span> <span class="n">resourceId</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>            <span class="n">CharSequence</span> <span class="n">s</span> <span class="o">=</span> <span class="n">context</span><span class="o">.</span><span class="na">getPackageManager</span><span class="o">().</span><span class="na">getText</span><span class="o">(</span><span class="s">&quot;com.android.settings&quot;</span><span class="o">,</span> <span class="n">resourceId</span><span class="o">,</span> <span class="kc">null</span><span class="o">);</span>
</span><span class='line'>            <span class="n">Log</span><span class="o">.</span><span class="na">i</span><span class="o">(</span><span class="n">VIEW_LOG_TAG</span><span class="o">,</span> <span class="s">&quot;resource=&quot;</span> <span class="o">+</span> <span class="n">s</span><span class="o">);</span>
</span><span class='line'>        <span class="o">}</span>
</span><span class='line'>    <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="n">NameNotFoundException</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>        <span class="n">e</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">();</span>
</span><span class='line'>    <span class="o">}</span>
</span><span class='line'>
</span><span class='line'><span class="o">}</span>
</span></code></pre></td></tr></table></div></figure>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Get Android System Available Features]]></title>
    <link href="http://androidyue.github.io/blog/2013/12/03/get-android-system-available-features/"/>
    <updated>2013-12-03T17:20:00+08:00</updated>
    <id>http://androidyue.github.io/blog/2013/12/03/get-android-system-available-features</id>
    <content type="html"><![CDATA[<p>An easy way to get system available features.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class='java'><span class='line'><span class="kd">private</span> <span class="kt">void</span> <span class="nf">dumpSystemFeatures</span><span class="o">()</span> <span class="o">{</span>
</span><span class='line'>
</span><span class='line'>    <span class="n">FeatureInfo</span><span class="o">[]</span> <span class="n">features</span> <span class="o">=</span> <span class="k">this</span><span class="o">.</span><span class="na">getPackageManager</span><span class="o">().</span><span class="na">getSystemAvailableFeatures</span><span class="o">();</span>
</span><span class='line'>        <span class="k">for</span> <span class="o">(</span><span class="n">FeatureInfo</span> <span class="n">f</span> <span class="o">:</span> <span class="n">features</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>            <span class="n">Log</span><span class="o">.</span><span class="na">i</span><span class="o">(</span><span class="n">LOGTAG</span><span class="o">,</span> <span class="s">&quot;dumpSystemFeatures f&quot;</span> <span class="o">+</span> <span class="n">f</span><span class="o">);</span>
</span><span class='line'>        <span class="o">}</span>
</span><span class='line'><span class="o">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>Have a glance at the result</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
</pre></td><td class='code'><pre><code class='java'><span class='line'><span class="n">I</span><span class="o">/</span><span class="n">MainActivity</span><span class="o">(</span><span class="mi">13514</span><span class="o">):</span> <span class="n">dumpSystemFeatures</span> <span class="n">fFeatureInfo</span><span class="o">{</span><span class="mi">40</span><span class="n">d74fd0</span> <span class="n">android</span><span class="o">.</span><span class="na">hardware</span><span class="o">.</span><span class="na">wifi</span> <span class="n">fl</span><span class="o">=</span><span class="mh">0x0</span><span class="o">}</span>
</span><span class='line'><span class="n">I</span><span class="o">/</span><span class="n">MainActivity</span><span class="o">(</span><span class="mi">13514</span><span class="o">):</span> <span class="n">dumpSystemFeatures</span> <span class="n">fFeatureInfo</span><span class="o">{</span><span class="mi">40</span><span class="n">d75048</span> <span class="n">android</span><span class="o">.</span><span class="na">hardware</span><span class="o">.</span><span class="na">location</span><span class="o">.</span><span class="na">network</span> <span class="n">fl</span><span class="o">=</span><span class="mh">0x0</span><span class="o">}</span>
</span><span class='line'><span class="n">I</span><span class="o">/</span><span class="n">MainActivity</span><span class="o">(</span><span class="mi">13514</span><span class="o">):</span> <span class="n">dumpSystemFeatures</span> <span class="n">fFeatureInfo</span><span class="o">{</span><span class="mi">40</span><span class="n">d750d8</span> <span class="n">android</span><span class="o">.</span><span class="na">hardware</span><span class="o">.</span><span class="na">nfc</span> <span class="n">fl</span><span class="o">=</span><span class="mh">0x0</span><span class="o">}</span>
</span><span class='line'><span class="n">I</span><span class="o">/</span><span class="n">MainActivity</span><span class="o">(</span><span class="mi">13514</span><span class="o">):</span> <span class="n">dumpSystemFeatures</span> <span class="n">fFeatureInfo</span><span class="o">{</span><span class="mi">40</span><span class="n">d75150</span> <span class="n">com</span><span class="o">.</span><span class="na">google</span><span class="o">.</span><span class="na">android</span><span class="o">.</span><span class="na">feature</span><span class="o">.</span><span class="na">GOOGLE_BUILD</span> <span class="n">fl</span><span class="o">=</span><span class="mh">0x0</span><span class="o">}</span>
</span><span class='line'><span class="n">I</span><span class="o">/</span><span class="n">MainActivity</span><span class="o">(</span><span class="mi">13514</span><span class="o">):</span> <span class="n">dumpSystemFeatures</span> <span class="n">fFeatureInfo</span><span class="o">{</span><span class="mi">40</span><span class="n">d751f0</span> <span class="n">android</span><span class="o">.</span><span class="na">hardware</span><span class="o">.</span><span class="na">location</span> <span class="n">fl</span><span class="o">=</span><span class="mh">0x0</span><span class="o">}</span>
</span><span class='line'><span class="n">I</span><span class="o">/</span><span class="n">MainActivity</span><span class="o">(</span><span class="mi">13514</span><span class="o">):</span> <span class="n">dumpSystemFeatures</span> <span class="n">fFeatureInfo</span><span class="o">{</span><span class="mi">40</span><span class="n">d75270</span> <span class="n">android</span><span class="o">.</span><span class="na">hardware</span><span class="o">.</span><span class="na">sensor</span><span class="o">.</span><span class="na">gyroscope</span> <span class="n">fl</span><span class="o">=</span><span class="mh">0x0</span><span class="o">}</span>
</span><span class='line'><span class="n">I</span><span class="o">/</span><span class="n">MainActivity</span><span class="o">(</span><span class="mi">13514</span><span class="o">):</span> <span class="n">dumpSystemFeatures</span> <span class="n">fFeatureInfo</span><span class="o">{</span><span class="mi">40</span><span class="n">d75300</span> <span class="n">android</span><span class="o">.</span><span class="na">hardware</span><span class="o">.</span><span class="na">screen</span><span class="o">.</span><span class="na">landscape</span> <span class="n">fl</span><span class="o">=</span><span class="mh">0x0</span><span class="o">}</span>
</span><span class='line'><span class="n">I</span><span class="o">/</span><span class="n">MainActivity</span><span class="o">(</span><span class="mi">13514</span><span class="o">):</span> <span class="n">dumpSystemFeatures</span> <span class="n">fFeatureInfo</span><span class="o">{</span><span class="mi">40</span><span class="n">d75390</span> <span class="n">android</span><span class="o">.</span><span class="na">hardware</span><span class="o">.</span><span class="na">screen</span><span class="o">.</span><span class="na">portrait</span> <span class="n">fl</span><span class="o">=</span><span class="mh">0x0</span><span class="o">}</span>
</span><span class='line'><span class="n">I</span><span class="o">/</span><span class="n">MainActivity</span><span class="o">(</span><span class="mi">13514</span><span class="o">):</span> <span class="n">dumpSystemFeatures</span> <span class="n">fFeatureInfo</span><span class="o">{</span><span class="mi">40</span><span class="n">d75420</span> <span class="n">android</span><span class="o">.</span><span class="na">hardware</span><span class="o">.</span><span class="na">wifi</span><span class="o">.</span><span class="na">direct</span> <span class="n">fl</span><span class="o">=</span><span class="mh">0x0</span><span class="o">}</span>
</span><span class='line'><span class="n">I</span><span class="o">/</span><span class="n">MainActivity</span><span class="o">(</span><span class="mi">13514</span><span class="o">):</span> <span class="n">dumpSystemFeatures</span> <span class="n">fFeatureInfo</span><span class="o">{</span><span class="mi">40</span><span class="n">d754a8</span> <span class="n">android</span><span class="o">.</span><span class="na">hardware</span><span class="o">.</span><span class="na">usb</span><span class="o">.</span><span class="na">accessory</span> <span class="n">fl</span><span class="o">=</span><span class="mh">0x0</span><span class="o">}</span>
</span><span class='line'><span class="n">I</span><span class="o">/</span><span class="n">MainActivity</span><span class="o">(</span><span class="mi">13514</span><span class="o">):</span> <span class="n">dumpSystemFeatures</span> <span class="n">fFeatureInfo</span><span class="o">{</span><span class="mi">40</span><span class="n">d75530</span> <span class="n">android</span><span class="o">.</span><span class="na">hardware</span><span class="o">.</span><span class="na">bluetooth</span> <span class="n">fl</span><span class="o">=</span><span class="mh">0x0</span><span class="o">}</span>
</span><span class='line'><span class="n">I</span><span class="o">/</span><span class="n">MainActivity</span><span class="o">(</span><span class="mi">13514</span><span class="o">):</span> <span class="n">dumpSystemFeatures</span> <span class="n">fFeatureInfo</span><span class="o">{</span><span class="mi">40</span><span class="n">d755b0</span> <span class="n">android</span><span class="o">.</span><span class="na">hardware</span><span class="o">.</span><span class="na">touchscreen</span><span class="o">.</span><span class="na">multitouch</span><span class="o">.</span><span class="na">distinct</span> <span class="n">fl</span><span class="o">=</span><span class="mh">0x0</span><span class="o">}</span>
</span><span class='line'><span class="n">I</span><span class="o">/</span><span class="n">MainActivity</span><span class="o">(</span><span class="mi">13514</span><span class="o">):</span> <span class="n">dumpSystemFeatures</span> <span class="n">fFeatureInfo</span><span class="o">{</span><span class="mi">40</span><span class="n">d75660</span> <span class="n">android</span><span class="o">.</span><span class="na">hardware</span><span class="o">.</span><span class="na">microphone</span> <span class="n">fl</span><span class="o">=</span><span class="mh">0x0</span><span class="o">}</span>
</span><span class='line'><span class="n">I</span><span class="o">/</span><span class="n">MainActivity</span><span class="o">(</span><span class="mi">13514</span><span class="o">):</span> <span class="n">dumpSystemFeatures</span> <span class="n">fFeatureInfo</span><span class="o">{</span><span class="mi">40</span><span class="n">d756e8</span> <span class="n">android</span><span class="o">.</span><span class="na">hardware</span><span class="o">.</span><span class="na">sensor</span><span class="o">.</span><span class="na">light</span> <span class="n">fl</span><span class="o">=</span><span class="mh">0x0</span><span class="o">}</span>
</span><span class='line'><span class="n">I</span><span class="o">/</span><span class="n">MainActivity</span><span class="o">(</span><span class="mi">13514</span><span class="o">):</span> <span class="n">dumpSystemFeatures</span> <span class="n">fFeatureInfo</span><span class="o">{</span><span class="mi">40</span><span class="n">d75770</span> <span class="n">android</span><span class="o">.</span><span class="na">hardware</span><span class="o">.</span><span class="na">camera</span><span class="o">.</span><span class="na">autofocus</span> <span class="n">fl</span><span class="o">=</span><span class="mh">0x0</span><span class="o">}</span>
</span><span class='line'><span class="n">I</span><span class="o">/</span><span class="n">MainActivity</span><span class="o">(</span><span class="mi">13514</span><span class="o">):</span> <span class="n">dumpSystemFeatures</span> <span class="n">fFeatureInfo</span><span class="o">{</span><span class="mi">40</span><span class="n">d75800</span> <span class="n">android</span><span class="o">.</span><span class="na">software</span><span class="o">.</span><span class="na">live_wallpaper</span> <span class="n">fl</span><span class="o">=</span><span class="mh">0x0</span><span class="o">}</span>
</span><span class='line'><span class="n">I</span><span class="o">/</span><span class="n">MainActivity</span><span class="o">(</span><span class="mi">13514</span><span class="o">):</span> <span class="n">dumpSystemFeatures</span> <span class="n">fFeatureInfo</span><span class="o">{</span><span class="mi">40</span><span class="n">d75890</span> <span class="n">android</span><span class="o">.</span><span class="na">hardware</span><span class="o">.</span><span class="na">camera</span><span class="o">.</span><span class="na">flash</span> <span class="n">fl</span><span class="o">=</span><span class="mh">0x0</span><span class="o">}</span>
</span><span class='line'><span class="n">I</span><span class="o">/</span><span class="n">MainActivity</span><span class="o">(</span><span class="mi">13514</span><span class="o">):</span> <span class="n">dumpSystemFeatures</span> <span class="n">fFeatureInfo</span><span class="o">{</span><span class="mi">40</span><span class="n">d75918</span> <span class="n">android</span><span class="o">.</span><span class="na">hardware</span><span class="o">.</span><span class="na">telephony</span> <span class="n">fl</span><span class="o">=</span><span class="mh">0x0</span><span class="o">}</span>
</span><span class='line'><span class="n">I</span><span class="o">/</span><span class="n">MainActivity</span><span class="o">(</span><span class="mi">13514</span><span class="o">):</span> <span class="n">dumpSystemFeatures</span> <span class="n">fFeatureInfo</span><span class="o">{</span><span class="mi">40</span><span class="n">d75998</span> <span class="n">android</span><span class="o">.</span><span class="na">software</span><span class="o">.</span><span class="na">sip</span> <span class="n">fl</span><span class="o">=</span><span class="mh">0x0</span><span class="o">}</span>
</span><span class='line'><span class="o">......</span>
</span></code></pre></td></tr></table></div></figure>


<p>For a detailed understanding of use-filter,please read this post <a href="http://developer.android.com/guide/topics/manifest/uses-feature-element.html">http://developer.android.com/guide/topics/manifest/uses-feature-element.html</a></p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Get An Application Required Features]]></title>
    <link href="http://androidyue.github.io/blog/2013/12/03/get-an-application-required-features/"/>
    <updated>2013-12-03T17:20:00+08:00</updated>
    <id>http://androidyue.github.io/blog/2013/12/03/get-an-application-required-features</id>
    <content type="html"><![CDATA[<p>How to get application&rsquo;s required features? Actually the <strong>aapt</strong> really does a great help.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="c">#Usage:aapt dump badging apk_location | grep feature </span>
</span><span class='line'>
</span><span class='line'><span class="c">#Example</span>
</span><span class='line'>aapt dump badging /tmp/language_check_maxthon_99985f_2793_4.1.3.1000_remote_develop.apk | grep Features
</span><span class='line'>
</span><span class='line'><span class="c">#Result</span>
</span><span class='line'>uses-feature-not-required:<span class="s1">&#39;android.hardware.location&#39;</span>
</span><span class='line'>uses-feature-not-required:<span class="s1">&#39;android.hardware.location.network&#39;</span>
</span><span class='line'>uses-feature-not-required:<span class="s1">&#39;android.hardware.location.gps&#39;</span>
</span><span class='line'>uses-feature-not-required:<span class="s1">&#39;android.hardware.screen.portrait&#39;</span>
</span><span class='line'>uses-feature-not-required:<span class="s1">&#39;android.hardware.telephony&#39;</span>
</span><span class='line'>uses-feature-not-required:<span class="s1">&#39;android.hardware.wifi&#39;</span>
</span><span class='line'>uses-feature:<span class="s1">&#39;android.hardware.touchscreen&#39;</span>
</span><span class='line'>uses-implied-feature:<span class="s1">&#39;android.hardware.touchscreen&#39;</span>,<span class="s1">&#39;assumed you require a touch screen unless explicitly made optional&#39;</span>
</span></code></pre></td></tr></table></div></figure>


<p>To understand the feature more detailed, please visit <a href="http://developer.android.com/guide/topics/manifest/uses-feature-element.html">http://developer.android.com/guide/topics/manifest/uses-feature-element.html</a></p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Jar mismatch! Fix your dependencies]]></title>
    <link href="http://androidyue.github.io/blog/2013/11/27/jar-mismatch-fix-your-dependencies/"/>
    <updated>2013-11-27T18:07:00+08:00</updated>
    <id>http://androidyue.github.io/blog/2013/11/27/jar-mismatch-fix-your-dependencies</id>
    <content type="html"><![CDATA[<p>There was a requirement of my work. It requires me to integrated my current project with Facebook SDK for measuring. However this came into my sights.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>Jar mismatch! Fix your dependencies
</span></code></pre></td></tr></table></div></figure>


<p>The fact is that Both my project and my library project which the former refers to have used android-support-v4.jar. However I realize the two android-support-v4.jar are different after making the md5 hash.<br/>
My solution:<br/>
<strong>I use the android-support-v4.jar in my project as the right one. And then replace the one in Facebook SDK with my project one. And then it works.</strong><br/>
But my question remains; why it asks me for fix the dependencies to use the same lib jar file?<br/>
I guess android will keep only one file for all the references so this will ask developers to make all the same lib all the same.
Sorry for the codeless post.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Enter Recovery Mode By ADB]]></title>
    <link href="http://androidyue.github.io/blog/2013/11/27/enter-recovery-mode-by-adb/"/>
    <updated>2013-11-27T18:06:00+08:00</updated>
    <id>http://androidyue.github.io/blog/2013/11/27/enter-recovery-mode-by-adb</id>
    <content type="html"><![CDATA[<p>A Geek way:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>adb reboot recovery</span></code></pre></td></tr></table></div></figure>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Remove Android Account Without Factory Reset]]></title>
    <link href="http://androidyue.github.io/blog/2013/11/27/remove-android-account-without-factory-reset/"/>
    <updated>2013-11-27T17:43:00+08:00</updated>
    <id>http://androidyue.github.io/blog/2013/11/27/remove-android-account-without-factory-reset</id>
    <content type="html"><![CDATA[<p>This will work if you want to remove account without factory reset your device.</p>

<h1>Steps</h1>

<ul>
<li>Make sure you have rooted your device.</li>
<li>Mount /data/system as read and write access</li>
<li>Go into /data/system and remove accounts.db</li>
<li>Reboot your device and you made it.</li>
</ul>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[How To Create Facebook Key Hash]]></title>
    <link href="http://androidyue.github.io/blog/2013/11/26/how-to-create-facebook-key-hash/"/>
    <updated>2013-11-26T19:15:00+08:00</updated>
    <id>http://androidyue.github.io/blog/2013/11/26/how-to-create-facebook-key-hash</id>
    <content type="html"><![CDATA[<p>When I create a new application on Facebook, I meet the problem. Facebook asks me to provide the Key Hash. But it does not show the guidance about how to generate. After Googling, I have found this works for me.<br/>
Before executing the following command, you need install openssl</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>keytool -exportcert -alias your-alias-value -keystore your-keystore-path | openssl  sha1 -binary | openssl  base64
</span></code></pre></td></tr></table></div></figure>


<p>Replace <strong>your-alias-value</strong> and <strong>your-keystore-path</strong>  with the real data.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Dump Table Structure in SQLite3]]></title>
    <link href="http://androidyue.github.io/blog/2013/11/17/dump-table-structure-in-sqlite3/"/>
    <updated>2013-11-17T17:24:00+08:00</updated>
    <id>http://androidyue.github.io/blog/2013/11/17/dump-table-structure-in-sqlite3</id>
    <content type="html"><![CDATA[<p>Best answer to the question<br/>
Use <em>PRAGMA table_info</em></p>

<blockquote><p>This pragma returns one row for each column in the named table. Columns in the result set include the column name, data type, whether or not the column can be NULL, and the default value for the column. The &ldquo;pk&rdquo; column in the result set is zero for columns that are not part of the primary key, and is the index of the column in the primary key for columns that are part of the primary key.</p></blockquote>

<p>Reference:<a href="http://www.sqlite.org/pragma.html#pragma_table_info">http://www.sqlite.org/pragma.html#pragma_table_info</a></p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>sqlite&gt; .header on
</span><span class='line'>sqlite&gt; PRAGMA table_info(password);
</span><span class='line'>cid|name|type|notnull|dflt_value|pk
</span><span class='line'>0|_id|INTEGER|0||1
</span><span class='line'>1|host|TEXT|0||0
</span><span class='line'>2|username|TEXT|0||0
</span><span class='line'>3|password|TEXT|0||0
</span><span class='line'>#password is the name of a table.</span></code></pre></td></tr></table></div></figure>


<p>Another answer may also work<br/>
<em>.schema [tablename]</em> will show the CREATE statement(s) for a table or tables</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>sqlite&gt; .schema password
</span><span class='line'>CREATE TABLE password (_id INTEGER PRIMARY KEY, host TEXT, username TEXT, password TEXT, UNIQUE (host, username) ON CONFLICT REPLACE);</span></code></pre></td></tr></table></div></figure>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Check If A Python Module Is Installed]]></title>
    <link href="http://androidyue.github.io/blog/2013/11/16/check-if-a-python-module-is-installed/"/>
    <updated>2013-11-16T20:14:00+08:00</updated>
    <id>http://androidyue.github.io/blog/2013/11/16/check-if-a-python-module-is-installed</id>
    <content type="html"><![CDATA[<p>I was once stucked in How to check Whether a Python module has been installed or not. After Googling, I found this trick.<br/>
Python allows user to pass command from out of a python file.See here</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>-c cmd : program passed in as string <span class="o">(</span>terminates option list<span class="o">)</span>
</span></code></pre></td></tr></table></div></figure>


<p>The result if we import an installed module</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>20:15:45-androidyue~/osc_git/LnxClient <span class="o">(</span>master<span class="o">)</span><span class="nv">$ </span>python -c <span class="s2">&quot;import os&quot;</span>
</span><span class='line'>20:31:24-androidyue~/osc_git/LnxClient <span class="o">(</span>master<span class="o">)</span><span class="nv">$ </span><span class="nb">echo</span> <span class="nv">$?</span>
</span><span class='line'>0
</span><span class='line'><span class="c">#0 means the module has been installed</span>
</span></code></pre></td></tr></table></div></figure>


<p>Now if we import an module which is not installed.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>20:31:41-androidyue~/osc_git/LnxClient <span class="o">(</span>master<span class="o">)</span><span class="nv">$ </span>python -c <span class="s2">&quot;import aaa&quot;</span>
</span><span class='line'>Traceback <span class="o">(</span>most recent call last<span class="o">)</span>:
</span><span class='line'>File <span class="s2">&quot;&lt;string&gt;&quot;</span>, line 1, in &lt;module&gt;
</span><span class='line'>ImportError: No module named aaa
</span><span class='line'>20:31:46-androidyue~/osc_git/LnxClient <span class="o">(</span>master<span class="o">)</span><span class="nv">$ </span><span class="nb">echo</span> <span class="nv">$?</span>
</span><span class='line'>1
</span><span class='line'><span class="c">#1 means that module is not installed.</span>
</span></code></pre></td></tr></table></div></figure>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Java Get Full Exception StackTrace]]></title>
    <link href="http://androidyue.github.io/blog/2013/11/09/java-get-full-exception-stacktrace/"/>
    <updated>2013-11-09T10:53:00+08:00</updated>
    <id>http://androidyue.github.io/blog/2013/11/09/java-get-full-exception-stacktrace</id>
    <content type="html"><![CDATA[<p>As a coder, I am always handling exceptions or errors,or in a word throwables. To impove the release build, I need to collect every throwable information.<br/>
And I need to get the information as string and post it to the Bug Collect Server. Now here is an easy trick to get stacktrace from a Throwable</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class='java'><span class='line'><span class="kd">private</span> <span class="n">String</span> <span class="nf">getStackTrace</span><span class="o">(</span><span class="n">Throwable</span> <span class="n">t</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>
</span><span class='line'>    <span class="kd">final</span> <span class="n">Writer</span> <span class="n">result</span> <span class="o">=</span> <span class="k">new</span> <span class="n">StringWriter</span><span class="o">();</span>
</span><span class='line'>    <span class="kd">final</span> <span class="n">PrintWriter</span> <span class="n">printWriter</span> <span class="o">=</span> <span class="k">new</span> <span class="n">PrintWriter</span><span class="o">(</span><span class="n">result</span><span class="o">);</span>
</span><span class='line'>    <span class="n">t</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">(</span><span class="n">printWriter</span><span class="o">);</span>
</span><span class='line'>    <span class="k">return</span> <span class="n">result</span><span class="o">.</span><span class="na">toString</span><span class="o">();</span>
</span><span class='line'><span class="o">}</span>
</span></code></pre></td></tr></table></div></figure>

]]></content>
  </entry>
  
</feed>

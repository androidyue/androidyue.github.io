<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: Android | 技术小黑屋]]></title>
  <link href="http://droidyue.com/blog/categories/android/atom.xml" rel="self"/>
  <link href="http://droidyue.com/"/>
  <updated>2014-07-27T15:55:23+08:00</updated>
  <id>http://droidyue.com/</id>
  <author>
    <name><![CDATA[androidyue]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[Android中自定义Checkbox]]></title>
    <link href="http://droidyue.com/blog/2014/07/27/change-default-image-of-checkbox-on-android/"/>
    <updated>2014-07-27T14:06:00+08:00</updated>
    <id>http://droidyue.com/blog/2014/07/27/change-default-image-of-checkbox-on-android</id>
    <content type="html"><![CDATA[<p>在Android中，Checkbox是一个很重要的UI组件，而且在Android中，它展现的形式越来越好看，这就说明有些系统，比如4.0以下，checkbox还是比较不好看，或者跟软件的风格不协调，就需要我们自定义这个组件。</p>

<p>自定义这个组件很简单，简单的增加修改xml文件即可。</p>

<!--more-->


<h2>准备工作</h2>

<p>准备好两张图片，一个是选中的图片，另一个是未选中的图片。本文以checked.png和unchecked.png为例。</p>

<h2>设置选择框</h2>

<p>在drawable下新建文件custom_checkbox.xml
```xml
&lt;?xml version=&ldquo;1.0&rdquo; encoding=&ldquo;utf-8&rdquo;?>
<selector xmlns:android="http://schemas.android.com/apk/res/android" ></p>

<pre><code>&lt;item android:state_checked="true" android:drawable="@drawable/checked"&gt;&lt;/item&gt;
&lt;item android:state_checked="false" android:drawable="@drawable/unchecked"&gt;&lt;/item&gt;
&lt;item android:drawable="@drawable/unchecked"&gt;&lt;/item&gt;&lt;!-- The default one --&gt;
</code></pre>

<p></selector>
```</p>

<h2>应用自定义</h2>

<p>设置button属性值为上面定义的custom_checkbox。
```xml
&lt;CheckBox</p>

<pre><code>android:layout_width="wrap_content"
android:layout_height="wrap_content"
android:button="@drawable/custom_checkbox"
</code></pre>

<p>/>
```</p>

<p>自定义完毕，跑起来你的程序吧。</p>

<h3>其他</h3>

<ul>
<li><a href="http://www.amazon.cn/gp/product/B00FQEDTA8/ref=as_li_tf_tl?ie=UTF8&camp=536&creative=3200&creativeASIN=B00FQEDTA8&linkCode=as2&tag=droidyue-23">从响应用户交互出发，设计Android的UI</a><img src="http://ir-cn.amazon-adsystem.com/e/ir?t=droidyue-23&l=as2&o=28&a=B00FQEDTA8" width="1" height="1" border="0" alt="" style="border:none !important; margin:0px !important;" /></li>
<li><a href="http://www.amazon.cn/gp/product/B009NKMGTG/ref=as_li_tf_tl?ie=UTF8&camp=536&creative=3200&creativeASIN=B009NKMGTG&linkCode=as2&tag=droidyue-23">一个都不能少的Android UI基础教程</a><img src="http://ir-cn.amazon-adsystem.com/e/ir?t=droidyue-23&l=as2&o=28&a=B009NKMGTG" width="1" height="1" border="0" alt="" style="border:none !important; margin:0px !important;" /></li>
</ul>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[捕获Android文本中链接点击事件]]></title>
    <link href="http://droidyue.com/blog/2014/07/27/capture-link-click-event-in-text-on-android/"/>
    <updated>2014-07-27T09:33:00+08:00</updated>
    <id>http://droidyue.com/blog/2014/07/27/capture-link-click-event-in-text-on-android</id>
    <content type="html"><![CDATA[<p>Android中的TTextView很强大，我们可以不仅可以设置纯文本为其内容，还可以设置包含网址和电子邮件地址的内容，并且使得这些点击可以点击。但是我们可以捕获并控制这些链接的点击事件么，当然是可以的。</p>

<p>本文将一个超级简单的例子介绍一下如何实现在Android TextView　捕获链接的点击事件。</p>

<!--more-->


<h2>关键实现</h2>

<p>实现原理就是将所有的URL设置成ClickSpan，然后在它的onClick事件中加入你想要的控制逻辑就可以了。
```java</p>

<pre><code>private void setLinkClickable(final SpannableStringBuilder clickableHtmlBuilder, 
        final URLSpan urlSpan) {
    int start = clickableHtmlBuilder.getSpanStart(urlSpan);
    int end = clickableHtmlBuilder.getSpanEnd(urlSpan);
    int flags = clickableHtmlBuilder.getSpanFlags(urlSpan);
    ClickableSpan clickableSpan = new ClickableSpan() {
          public void onClick(View view) {
              //Do something with URL here.

          }
    };
    clickableHtmlBuilder.setSpan(clickableSpan, start, end, flags);
}

private CharSequence getClickableHtml(String html) {
    Spanned spannedHtml = Html.fromHtml(html);
    SpannableStringBuilder clickableHtmlBuilder = new SpannableStringBuilder(spannedHtml);
    URLSpan[] urls = clickableHtmlBuilder.getSpans(0, spannedHtml.length(), URLSpan.class);   
    for(final URLSpan span : urls) {
        setLinkClickable(clickableHtmlBuilder, span);
    }
    return clickableHtmlBuilder;
}
</code></pre>

<p>```</p>

<h2>如何使用</h2>

<p>```java</p>

<pre><code>    TextView myTextView = (TextView)findViewById(R.id.myTextView);
    String url = "This is a page with lots of URLs. &lt;a href=\"http://droidyue.com\"&gt;droidyue.com&lt;/&gt; " +
            "This left is a very good blog. There are so many great blogs there. You can find what" +
            "you want in that blog."  
            + "The Next Link is &lt;a href=\"http://www.google.com.hk\"&gt;Google HK&lt;/a&gt;";
    myTextView.setText(getClickableHtml(url));
</code></pre>

<p>```</p>

<h2>实现自己的控制</h2>

<p>我们需要在ClickSpan的onClick方法中加入自己的控制逻辑，比如我们使用傲游浏览器打开点击的链接。
```java
public void onClick(View view) {</p>

<pre><code>Log.i(LOGTAG, "onClick url=" + urlSpan.getURL() );
Intent intent = new Intent(Intent.ACTION_VIEW);
intent.setData(Uri.parse(urlSpan.getURL()));
intent.setPackage("com.mx.browser");
startActivity(intent);
</code></pre>

<p>}
```</p>

<h2>提醒</h2>

<p>不要忘了设置TextView的autoLink属性。
```xml
&lt;TextView</p>

<pre><code>android:layout_width="wrap_content"
android:layout_height="wrap_content"
android:text="@string/hello_world" 
android:id="@+id/myTextView"
android:autoLink="web" 
</code></pre>

<p>/>
```</p>

<h2>demo源码</h2>

<p><a href="http://pan.baidu.com/s/1i3kQ1RB" target="_blank">百度云盘</a></p>

<h3>其他</h3>

<ul>
<li><p><a href="http://www.amazon.cn/gp/product/B00CE1JQO4/ref=as_li_tf_tl?ie=UTF8&camp=536&creative=3200&creativeASIN=B00CE1JQO4&linkCode=as2&tag=droidyue-23">Android中的高级编程部分</a><img src="http://ir-cn.amazon-adsystem.com/e/ir?t=droidyue-23&l=as2&o=28&a=B00CE1JQO4" width="1" height="1" border="0" alt="" style="border:none !important; margin:0px !important;" /></p></li>
<li><p><a href="http://www.amazon.cn/gp/product/B00ASIN7G8/ref=as_li_tf_tl?ie=UTF8&camp=536&creative=3200&creativeASIN=B00ASIN7G8&linkCode=as2&tag=droidyue-23">精通Android其实并不难</a><img src="http://ir-cn.amazon-adsystem.com/e/ir?t=droidyue-23&l=as2&o=28&a=B00ASIN7G8" width="1" height="1" border="0" alt="" style="border:none !important; margin:0px !important;" /></p></li>
</ul>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[超简单实现Google+列表特效]]></title>
    <link href="http://droidyue.com/blog/2014/07/26/apply-google-plus-list-style-on-android/"/>
    <updated>2014-07-26T10:32:00+08:00</updated>
    <id>http://droidyue.com/blog/2014/07/26/apply-google-plus-list-style-on-android</id>
    <content type="html"><![CDATA[<p>相信用过Google+的人都感到其应用的特效相当棒，本文将以超简单的形式来实现类似Google+列表的特效。仅仅写几行代码就可以实现奥。</p>

<h2>特效真面目</h2>

<p>由于众所周知的原因，很多人无法使用Google+应用。所以有必要让大家先看一看真面目。</p>

<!--more-->


<p>P.S.找了很多的屏目录制软件都不行，并且没有4.4的机器，所以只能用最笨的方法录制了，请见谅哈。</p>

<iframe height=498 width=510 src="http://player.youku.com/embed/XNzQ2MzAzNjIw" frameborder=0 allowfullscreen></iframe>


<h2>特效动画</h2>

<h3>from_bottom_to_top.xml</h3>

<p>```xml
&lt;?xml version=&ldquo;1.0&rdquo; encoding=&ldquo;utf-8&rdquo;?>
&lt;set xmlns:android=&ldquo;<a href="http://schemas.android.com/apk/res/android">http://schemas.android.com/apk/res/android</a>&rdquo;</p>

<pre><code> android:shareInterpolator="@android:anim/decelerate_interpolator"&gt;
&lt;translate
    android:fromXDelta="0%" android:toXDelta="0%"
    android:fromYDelta="100%" android:toYDelta="0%"
    android:duration="400" /&gt;
</code></pre>

<p></set></p>

<p>```</p>

<h3>from_top_to_bottom.xml</h3>

<p>```xml
&lt;?xml version=&ldquo;1.0&rdquo; encoding=&ldquo;utf-8&rdquo;?>
&lt;set xmlns:android=&ldquo;<a href="http://schemas.android.com/apk/res/android">http://schemas.android.com/apk/res/android</a>&rdquo;</p>

<pre><code> android:shareInterpolator="@android:anim/decelerate_interpolator"&gt;
&lt;translate
    android:fromXDelta="0%" android:toXDelta="0%"
    android:fromYDelta="-100%" android:toYDelta="0%"
    android:duration="400" /&gt;
</code></pre>

<p></set></p>

<p>```</p>

<h2>加入动画</h2>

<p>```java
private int mLastPosition = -1;
@Override
public View getView(int position, View convertView, ViewGroup parent) {</p>

<pre><code>View view = super.getView(position, convertView, parent);
int animResId;
if (position &gt; mLastPosition) {
    animResId = R.anim.from_bottom_to_top;
} else {
    animResId = R.anim.from_top_to_bottom;
}

Animation animation = AnimationUtils.loadAnimation(getContext(), animResId);
view.startAnimation(animation);
mLastPosition = position;
return view;
</code></pre>

<p>}
```</p>

<h2>源码</h2>

<p><a href="http://pan.baidu.com/s/1ntmelML" target="_blank">百度云盘</a></p>

<h3>其他</h3>

<ul>
<li><a href="http://www.amazon.cn/gp/product/B00FQEDTA8/ref=as_li_tf_tl?ie=UTF8&camp=536&creative=3200&creativeASIN=B00FQEDTA8&linkCode=as2&tag=droidyue-23">精彩绝伦的Android UI设计</a><img src="http://ir-cn.amazon-adsystem.com/e/ir?t=droidyue-23&l=as2&o=28&a=B00FQEDTA8" width="1" height="1" border="0" alt="" style="border:none !important; margin:0px !important;" /></li>
<li><a href="http://www.amazon.cn/gp/product/B0065DAGZK/ref=as_li_tf_tl?ie=UTF8&camp=536&creative=3200&creativeASIN=B0065DAGZK&linkCode=as2&tag=droidyue-23">精通Android 3</a><img src="http://ir-cn.amazon-adsystem.com/e/ir?t=droidyue-23&l=as2&o=28&a=B0065DAGZK" width="1" height="1" border="0" alt="" style="border:none !important; margin:0px !important;" /></li>
</ul>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[持续整理:git分支操作]]></title>
    <link href="http://droidyue.com/blog/2014/07/21/git-tutorial-about-branch/"/>
    <updated>2014-07-21T19:07:00+08:00</updated>
    <id>http://droidyue.com/blog/2014/07/21/git-tutorial-about-branch</id>
    <content type="html"><![CDATA[<p>这篇文章主要的目的是记录一下git中关于分支相关的操作记录. 本文会持续更新,所有的操作都经过本人实践,可以正常运行,并且可以解决问题.</p>

<p>我就不罗嗦介绍什么事Git和Git有多么牛了.</p>

<!--more-->


<hr />

<h3>迁出远程分支</h3>

<p>```bash
git checkout  -b new_local_branch_name repository_name/remote_branch_name</p>

<h2>Example</h2>

<p>git checkout  -b custom origin/custom</p>

<h2>建议是本地的分支名字和其对应的远程分支名称一样.</h2>

<h2>```</h2>

<h3>查看本地所有分支</h3>

<p><code>bash
git branch
</code></p>

<hr />

<h3>查看远程所有分支</h3>

<p>```bash
git branch -r</p>

<h2>```</h2>

<h3>删除本地分支</h3>

<p>```bash
git branch -d your_branch_name</p>

<h2>```</h2>

<h3>强制删除本地分支</h3>

<p>```bash
git branch -D your_branch_name</p>

<h2>```</h2>

<h3>删除远程分支</h3>

<p><code>bash
git push origin --delete your_branch_name
</code>
或者更简单的写法</p>

<p>```bash
git push origin :your_branch_name</p>

<h2>```</h2>

<h3>其他</h3>

<ul>
<li><a href="http://www.amazon.cn/gp/product/1430218339/ref=as_li_tf_tl?ie=UTF8&camp=536&creative=3200&creativeASIN=1430218339&linkCode=as2&tag=droidyue-23">Pro Git</a><img src="http://ir-cn.amazon-adsystem.com/e/ir?t=droidyue-23&l=as2&o=28&a=1430218339" width="1" height="1" border="0" alt="" style="border:none !important; margin:0px !important;" /></li>
<li><a href="http://www.amazon.cn/gp/product/1430218339/ref=as_li_tf_tl?ie=UTF8&camp=536&creative=3200&creativeASIN=1430218339&linkCode=as2&tag=droidyue-23">成为大神必读的Git书籍</a><img src="http://ir-cn.amazon-adsystem.com/e/ir?t=droidyue-23&l=as2&o=28&a=1430218339" width="1" height="1" border="0" alt="" style="border:none !important; margin:0px !important;" /></li>
</ul>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Android实现引用其他程序的文本资源]]></title>
    <link href="http://droidyue.com/blog/2014/07/21/refer-strings-from-other-applications-in-android-chinese-edition/"/>
    <updated>2014-07-21T07:39:00+08:00</updated>
    <id>http://droidyue.com/blog/2014/07/21/refer-strings-from-other-applications-in-android-chinese-edition</id>
    <content type="html"><![CDATA[<p>在Android中引用其他程序的文本资源并不是很常见,但是有时候还是很是有需要的,通常引用的多半是系统的程序的文本资源.</p>

<p>下面以一个超简单的例子,来展示以下如何实现.</p>

<!--more-->


<p>```java
public void testUseAndroidString() {</p>

<pre><code>Context context = getContext();
Resources res = null;
try {
    //I want to use the clear_activities string in Package com.android.settings
    res = context.getPackageManager().getResourcesForApplication("com.android.settings");
    int resourceId = res.getIdentifier("com.android.settings:string/clear_activities", null, null);
    if(0 != resourceId) {
        CharSequence s = context.getPackageManager().getText("com.android.settings", resourceId, null);
        Log.i(VIEW_LOG_TAG, "resource=" + s);
    }
} catch (NameNotFoundException e) {
    e.printStackTrace();
}
</code></pre>

<p>}
```</p>

<h3>其他</h3>

<ul>
<li><a href="http://www.amazon.cn/gp/product/B00BMTVUGG/ref=as_li_tf_tl?ie=UTF8&camp=536&creative=3200&creativeASIN=B00BMTVUGG&linkCode=as2&tag=droidyue-23">Android软件安全与逆向分析</a><img src="http://ir-cn.amazon-adsystem.com/e/ir?t=droidyue-23&l=as2&o=28&a=B00BMTVUGG" width="1" height="1" border="0" alt="" style="border:none !important; margin:0px !important;" /></li>
<li><a href="http://www.amazon.cn/gp/product/B00E192518/ref=as_li_tf_tl?ie=UTF8&camp=536&creative=3200&creativeASIN=B00E192518&linkCode=as2&tag=droidyue-23">你一定爱读的极简欧洲史</a><img src="http://ir-cn.amazon-adsystem.com/e/ir?t=droidyue-23&l=as2&o=28&a=B00E192518" width="1" height="1" border="0" alt="" style="border:none !important; margin:0px !important;" /></li>
</ul>

]]></content>
  </entry>
  
</feed>

<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: 技巧 | 技术小黑屋]]></title>
  <link href="http://droidyue.com/blog/categories/ji-qiao/atom.xml" rel="self"/>
  <link href="http://droidyue.com/"/>
  <updated>2015-02-28T21:54:47+08:00</updated>
  <id>http://droidyue.com/</id>
  <author>
    <name><![CDATA[androidyue]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[MissingFormatArgumentException: Format specifier 's']]></title>
    <link href="http://droidyue.com/blog/2014/09/27/missingformatargumentexception-format-specifier-s/"/>
    <updated>2014-09-27T10:09:00+08:00</updated>
    <id>http://droidyue.com/blog/2014/09/27/missingformatargumentexception-format-specifier-s</id>
    <content type="html"><![CDATA[<p>贴出一个简单的异常，分析一下原因，以及推荐一个相对好一些的替代方法。
如下，如果我们进行字符串格式化提供的值的数量少于字符串格式符（%s）的数量，就会抛出MissingFormatArgumentException异常。</p>

<!--more-->


<h3>错误代码</h3>

<p><code>java lineos:false
String format = "%s/%s";
String.format(format, "a");
</code></p>

<h3>崩溃信息</h3>

<p>```java lineos:false
Exception in thread &ldquo;main&rdquo; java.util.MissingFormatArgumentException: Format specifier &rsquo;s'</p>

<pre><code>at java.util.Formatter.format(Unknown Source)
at java.util.Formatter.format(Unknown Source)
at java.lang.String.format(Unknown Source)
at Concatenation.testFormat(Concatenation.java:17)
at Concatenation.main(Concatenation.java:4)
</code></pre>

<p>```</p>

<h3>替代方法</h3>

<p>相比字符串的格式化操作，使用字符串的替换更加安全，避免因为疏忽或者考虑不全等带来的崩溃问题。
<code>java lineos:false
String s = "%country%/%city%".replace("%country%", "China").replace("%city%", "Beijing");
</code></p>

<h3>其他</h3>

<ul>
<li><a href="http://www.amazon.cn/gp/product/B0084ASO7E/ref=as_li_tf_tl?ie=UTF8&camp=536&creative=3200&creativeASIN=B0084ASO7E&linkCode=as2&tag=droidyue-23">数学之美</a><img src="http://ir-cn.amazon-adsystem.com/e/ir?t=droidyue-23&l=as2&o=28&a=B0084ASO7E" width="1" height="1" border="0" alt="" style="border:none !important; margin:0px !important;" /></li>
<li><a href="http://www.amazon.cn/gp/product/B00D36S64K/ref=as_li_tf_tl?ie=UTF8&camp=536&creative=3200&creativeASIN=B00D36S64K&linkCode=as2&tag=droidyue-23">像计算机科学家一样思考Java</a><img src="http://ir-cn.amazon-adsystem.com/e/ir?t=droidyue-23&l=as2&o=28&a=B00D36S64K" width="1" height="1" border="0" alt="" style="border:none !important; margin:0px !important;" /></li>
<li><a href="http://www.amazon.cn/gp/product/B00HQW9FMO/ref=as_li_tf_tl?ie=UTF8&camp=536&creative=3200&creativeASIN=B00HQW9FMO&linkCode=as2&tag=droidyue-23">微信公众平台应用开发:方法、技巧与案例</a><img src="http://ir-cn.amazon-adsystem.com/e/ir?t=droidyue-23&l=as2&o=28&a=B00HQW9FMO" width="1" height="1" border="0" alt="" style="border:none !important; margin:0px !important;" /></li>
</ul>

]]></content>
  </entry>
  
</feed>

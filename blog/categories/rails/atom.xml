<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: Rails | 技术小黑屋]]></title>
  <link href="http://droidyue.com/blog/categories/rails/atom.xml" rel="self"/>
  <link href="http://droidyue.com/"/>
  <updated>2015-07-21T21:49:01+08:00</updated>
  <id>http://droidyue.com/</id>
  <author>
    <name><![CDATA[androidyue]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[Ruby检测Gem是否安装]]></title>
    <link href="http://droidyue.com/blog/2014/08/19/check-for-ruby-gem-availability/"/>
    <updated>2014-08-19T20:04:00+08:00</updated>
    <id>http://droidyue.com/blog/2014/08/19/check-for-ruby-gem-availability</id>
    <content type="html"><![CDATA[<p>最近参加七牛的<a href="https://portal.qiniu.com/contest/demo2014" target="_blank">demo大赛</a>,决定使用ruby开发。于是遇到了一些疑问，然后解决了，这里记录一下。</p>

<p>在Ruby中，Gem是一个很常见的东西，其相当于插件，Ruby有很多很棒的gem，避免了我们重复造轮子，我的demo中需要安装gem，但是为了更加实现好一些，先检测gem是否已经安装，如果没有安装，在继续安装，否则不安装。</p>

<!--more-->


<p>于是，怎么在Ruby中检测gem是否安装呢，其实也很简单，直接上代码就可以了。不需太多解释。begin&hellip;rescue&hellip;相当于java中的try catch。
```ruby lineos:false</p>

<h1>!/usr/bin/env ruby</h1>

<h1>encoding: utf-8</h1>

<p>def checkGemAvailable(gemName, versionLimit=nil)</p>

<pre><code>isAvailable = false
begin
    if versionLimit == nil
        gem  gemName
    else
        gem  gemName, versionLimit
    end
    isAvailable = true
rescue LoadError
end
isAvailable
</code></pre>

<p>end
<code>
跑起来看一看
</code>ruby lineos:false
puts checkGemAvailable(&lsquo;rack&rsquo;)
puts checkGemAvailable(&lsquo;rack&rsquo;, &lsquo;>=2&rsquo;)
<code>
我机器的rack信息
</code>bash lineos:false
rack (1.5.2)
<code>
所以上面执行的结果为
</code>bash lineos:false
true
false
```</p>

<h3>其他</h3>

<ul>
<li><a href="http://www.amazon.cn/gp/product/B0061XKRXA/ref=as_li_tf_tl?ie=UTF8&camp=536&creative=3200&creativeASIN=B0061XKRXA&linkCode=as2&tag=droidyue-23">代码大全</a><img src="http://ir-cn.amazon-adsystem.com/e/ir?t=droidyue-23&l=as2&o=28&a=B0061XKRXA" width="1" height="1" border="0" alt="" style="border:none !important; margin:0px !important;" /></li>
<li><a href="http://www.amazon.cn/gp/product/B005KGBTQ8/ref=as_li_tf_tl?ie=UTF8&camp=536&creative=3200&creativeASIN=B005KGBTQ8&linkCode=as2&tag=droidyue-23">松本行弘的程序世界</a><img src="http://ir-cn.amazon-adsystem.com/e/ir?t=droidyue-23&l=as2&o=28&a=B005KGBTQ8" width="1" height="1" border="0" alt="" style="border:none !important; margin:0px !important;" /></li>
<li><a href="http://www.amazon.cn/gp/product/B004WHZGZQ/ref=as_li_tf_tl?ie=UTF8&camp=536&creative=3200&creativeASIN=B004WHZGZQ&linkCode=as2&tag=droidyue-23">黑客与画家:硅谷创业之父Paul Graham文集</a><img src="http://ir-cn.amazon-adsystem.com/e/ir?t=droidyue-23&l=as2&o=28&a=B004WHZGZQ" width="1" height="1" border="0" alt="" style="border:none !important; margin:0px !important;" /></li>
</ul>

]]></content>
  </entry>
  
</feed>

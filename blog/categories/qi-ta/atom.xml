<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: 其他 | 技术小黑屋]]></title>
  <link href="http://droidyue.com/blog/categories/qi-ta/atom.xml" rel="self"/>
  <link href="http://droidyue.com/"/>
  <updated>2014-08-07T22:12:17+08:00</updated>
  <id>http://droidyue.com/</id>
  <author>
    <name><![CDATA[androidyue]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[Ocotpress集成多说评论]]></title>
    <link href="http://droidyue.com/blog/2014/07/29/integrate-duoshuo-in-octopress/"/>
    <updated>2014-07-29T21:02:00+08:00</updated>
    <id>http://droidyue.com/blog/2014/07/29/integrate-duoshuo-in-octopress</id>
    <content type="html"><![CDATA[<p>Octopress默认自带了DISQUS，但是对于国内不是很好用。于是一开始替换了国内的友言。但是后来发现用友言的人不多，而且感觉友言加载速度比较慢。然后就是到了今天的多说了。官方并没有给出具体针对Octopress的解决指导。我这里记录一下如何集成，并且解决一些常见的问题。</p>

<!--more-->


<h2>集成</h2>

<h3>来说评论框</h3>

<p>这就是多说提供的通用代码中,其实理论上以下三个值通过javascript都可以得到的。
```html linenos:false</p>

<!-- 多说评论框 start -->


<pre><code>&lt;div class="ds-thread" data-thread-key="请将此处替换成文章在你的站点中的ID" data-title="请替换成文章的标题" data-url="请替换成文章的网址"&gt;&lt;/div&gt;
</code></pre>

<!-- 多说评论框 end -->


<p><code>
如果换成Octopress（准确的来说是jekyll ）的变量，应该是这样子。
</code>html linenos:false</p>

<!-- 多说评论框 start -->


<div class="ds-thread" data-thread-key="{{ page.id }}" data-title="{{ page.title }}" data-url="{{site.url}}{{ page.url  }}"></div>


<!-- 多说评论框 end -->


<p>```</p>

<h3>整合公共JS代码</h3>

<p>在Octopress的<strong>source/_includes/post</strong>目录下，新建一个文件，比如<strong>duoshuo.html</strong>
其代码如下,
```html source/_includes/post/duoshuo.html linenos:false</p>

<!-- 多说评论框 start -->


<div class="ds-thread" data-thread-key="{{ page.id }}" data-title="{{ page.title }}" data-url="{{site.url}}{{ page.url  }}"></div>


<!-- 多说评论框 end -->


<!-- 多说公共JS代码 start (一个网页只需插入一次) -->


<script type="text/javascript">
    var duoshuoQuery = {short_name:"your_short_name"};
    (function() {

        var ds = document.createElement('script');
        ds.type = 'text/javascript';ds.async = true;
        ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
        ds.charset = 'UTF-8';
        (document.getElementsByTagName('head')[0] 
         || document.getElementsByTagName('body')[0]).appendChild(ds);
     })();
 </script>


<p> <!-- 多说公共JS代码 end -->
<code>
注意，请修改上面代码中的short_name
</code>javascript linenos:false
 var duoshuoQuery = {short_name:&ldquo;your_short_name&rdquo;};
```</p>

<h3>将文件嵌入到<strong><code>&lt;body&gt;&lt;/body&gt;</code></strong></h3>

<p>将上面的文件嵌入到<strong>source/_layouts/post.html</strong>下，可参考下列代码。
```html source/_layouts/post.html linenos:false
  </footer>
  </article>
{% if page.comments == true %}
  <section>
   {% include post/duoshuo.html %}
  </section>
 {% endif %}
</div>
{% unless page.sidebar == false %}
<aside class="sidebar">
  {% if site.post_asides.size %}</p>

<pre><code>{% include_array post_asides %}
</code></pre>

<p>  {% else %}</p>

<pre><code>{% include_array default_asides %}
</code></pre>

<p>  {% endif %}
</aside>
{% endunless %}
```
到这里，基本可以跑成功了。</p>

<h2>问题解决</h2>

<h3>表象</h3>

<p>不要高兴的太早，集成后的多说还是有点小问题，就是当需要登陆或者输入邮箱地址的时候，会出现如下图的问题，登陆框的背后有一层带颜色的层。
<img class="<a" src="href="http://droidyueimg.qiniudn.com/duoshuo_background_issue.png">http://droidyueimg.qiniudn.com/duoshuo_background_issue.png</a>" title="duoshuo issue in Octopress" ></p>

<h3>原因</h3>

<p>具体原因是我所使用的css为所有的body div增加了一个背景。下图为id为ds-wrapper的div的背景属性
<img class="<a" src="href="http://droidyueimg.qiniudn.com/div_background_property.png">http://droidyueimg.qiniudn.com/div_background_property.png</a>" title="ds-wrapper div background" ></p>

<h3>解决</h3>

<p>昨天晚上自己找到了一个可行的办法，思路就是对所有body div的设置不应用到id为ds-wrapper的div
默认的设置如下。文件为sass/base/<em>theme.scss
```css sass/base/</em>theme.scss linenos:false
body {</p>

<blockquote><p>div {</p>

<pre><code>background: $sidebar-bg $noise-bg;
border-bottom: 1px solid $page-border-bottom;
&gt; div {
  background: $main-bg $noise-bg;
  border-right: 1px solid $sidebar-border;
}
</code></pre>

<p>  }
}
<code>
使用not把ds-wrapper加入例外，修改为这样的设置
</code>css sass/base/_theme.scss linenos:false
body {
div:not(#ds-wrapper){</p>

<pre><code>background: $sidebar-bg $noise-bg;
border-bottom: 1px solid $page-border-bottom;
&gt; div {
  background: $main-bg $noise-bg;
  border-right: 1px solid $sidebar-border;
}
</code></pre>

<p>  }
}</p></blockquote>

<p>```</p>

<p>到这里，就比较完美的解决了问题，边Google变StackOverflow解决了问题了，哈哈。</p>

<h2>延伸</h2>

<p><a href="https://developer.mozilla.org/en-US/docs/Web/CSS/%3anot?redirectlocale=en-US&redirectslug=CSS%2F%3Anot" target="_blank">CSS not API</a></p>

<h3>其他</h3>

<ul>
<li><a href="http://www.amazon.cn/gp/product/B00B01LKQ6/ref=as_li_tf_tl?ie=UTF8&camp=536&creative=3200&creativeASIN=B00B01LKQ6&linkCode=as2&tag=droidyue-23">如何以数据驱动决策,提升网站价值</a><img src="http://ir-cn.amazon-adsystem.com/e/ir?t=droidyue-23&l=as2&o=28&a=B00B01LKQ6" width="1" height="1" border="0" alt="" style="border:none !important; margin:0px !important;" /></li>
<li><a href="http://www.amazon.cn/gp/product/B0011BTJV8/ref=as_li_tf_tl?ie=UTF8&camp=536&creative=3200&creativeASIN=B0011BTJV8&linkCode=as2&tag=droidyue-23">访客至上的网页设计秘笈</a><img src="http://ir-cn.amazon-adsystem.com/e/ir?t=droidyue-23&l=as2&o=28&a=B0011BTJV8" width="1" height="1" border="0" alt="" style="border:none !important; margin:0px !important;" /></li>
</ul>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Octopress 下 rake 失败问题解决]]></title>
    <link href="http://droidyue.com/blog/2014/07/24/rake-issues-in-octopress/"/>
    <updated>2014-07-24T19:11:00+08:00</updated>
    <id>http://droidyue.com/blog/2014/07/24/rake-issues-in-octopress</id>
    <content type="html"><![CDATA[<p>在 Mac 机器上，使用 octopress 总是问题重重，今天遇到了这样的问题，解决了，记录一下。
<code>bash
13:28 $ rake generate
rake aborted!
You have already activated rake 10.1.1, but your Gemfile requires rake 0.9.2.2. Prepending `bundle exec` to your command may solve this.
/Users/androidyue/.rvm/gems/ruby-1.9.3-p484/gems/bundler-1.6.2/lib/bundler/runtime.rb:34:in `block in setup'
/Users/androidyue/.rvm/gems/ruby-1.9.3-p484/gems/bundler-1.6.2/lib/bundler/runtime.rb:19:in `setup'
/Users/androidyue/.rvm/gems/ruby-1.9.3-p484/gems/bundler-1.6.2/lib/bundler.rb:120:in `setup'
/Users/androidyue/.rvm/gems/ruby-1.9.3-p484/gems/bundler-1.6.2/lib/bundler/setup.rb:7:in `&lt;top (required)&gt;'
/Users/androidyue/github/myblog/Rakefile:2:in `&lt;top (required)&gt;'
(See full trace by running task with --trace)
</code></p>

<!--more-->


<h2>查看 rake 信息</h2>

<p>```ruby
13:48 $ gem list rake</p>

<p><strong><em> LOCAL GEMS </em></strong></p>

<p>rake (10.1.1, 0.9.6, 0.9.2.2)
```</p>

<h2>方法一</h2>

<p>在所有的 rake 命令前面加入 bundle exec 前缀。
<code>bash
bundle exec rake generate
</code></p>

<h2>方法二</h2>

<p>修改Gemfile 文件如下。
<code>ruby
 group :development do
-  gem 'rake', '~&gt; 0.9'
+  gem 'rake', '~&gt; 10.0'
</code></p>

<h3>其他</h3>

<ul>
<li><a href="http://www.amazon.cn/gp/product/B002WJI7YI/ref=as_li_tf_tl?ie=UTF8&camp=536&creative=3200&creativeASIN=B002WJI7YI&linkCode=as2&tag=droidyue-23">锦绣蓝图:怎样规划令人流连忘返的网站</a><img src="http://ir-cn.amazon-adsystem.com/e/ir?t=droidyue-23&l=as2&o=28&a=B002WJI7YI" width="1" height="1" border="0" alt="" style="border:none !important; margin:0px !important;" /></li>
<li><a href="http://www.amazon.cn/gp/product/B00ASOV2AU/ref=as_li_tf_tl?ie=UTF8&camp=536&creative=3200&creativeASIN=B00ASOV2AU&linkCode=as2&tag=droidyue-23">你的网站赚钱吗？</a><img src="http://ir-cn.amazon-adsystem.com/e/ir?t=droidyue-23&l=as2&o=28&a=B00ASOV2AU" width="1" height="1" border="0" alt="" style="border:none !important; margin:0px !important;" /></li>
</ul>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[UserAgent收集]]></title>
    <link href="http://droidyue.com/blog/2014/07/24/user-agent-summary/"/>
    <updated>2014-07-24T12:44:00+08:00</updated>
    <id>http://droidyue.com/blog/2014/07/24/user-agent-summary</id>
    <content type="html"><![CDATA[<p>工作中，时不时用到 UA（User Agent），每次都要 Google 搜索，于是自己整理一下，直接看一个比较全的整理就方便多了。</p>

<!--more-->


<h2>Android设备</h2>

<ul>
<li>Nexus 5 4.4.2 1920*1080
<code>ruby
Mozilla/5.0 (Linux; Android 4.4.2; Google Nexus 5 - 4.4.2 - API 19 - 1080x1920 Build/KOT49H) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/30.0.0.0 Mobile Safari/537.36
</code>

<h2>iOS设备</h2></li>
<li>iPhone
<code>ruby
Mozilla/5.0 (iPhone; CPU iPhone OS 7_1_1 like Mac OS X) AppleWebKit/537.51.2 (KHTML, like Gecko) Version/7.0 Mobile/11D201 Safari/9537.53
</code></li>
<li><p>iPad
<code>ruby
Mozilla/5.0 (iPad; CPU OS 7_1_1 like Mac OS X) AppleWebKit/537.51.2 (KHTML, like Gecko) Version/7.0 Mobile/11D201 Safari/9537.53
</code></p>

<h2>Mac设备</h2>

<p>Macbook Pro 15-Inch Retina设备</p></li>
<li><p>Chrome
<code>ruby
Mozilla/5.0 (Macintosh; Intel Mac OS X 10_9_4) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/36.0.1985.125 Safari/537.36
</code></p></li>
<li><p>Safari
<code>ruby
Mozilla/5.0 (Macintosh; Intel Mac OS X 10_9_4) AppleWebKit/537.77.4 (KHTML, like Gecko) Version/7.0.5 Safari/537.77.4
</code></p></li>
<li><p>Firefox
<code>ruby
Mozilla/5.0 (Macintosh; Intel Mac OS X 10.9; rv:27.0) Gecko/20100101 Firefox/27.0
</code></p></li>
<li><p>Maxthon
<code>ruby
Mozilla/5.0 (Macintosh; Intel Mac OS X 10_9_4) AppleWebKit/537.77.4 (KHTML, like Gecko) Maxthon/4.2.3
</code></p></li>
</ul>


<h2>Windows 设备</h2>

<ul>
<li>Windows 7 Chrome
<code>ruby
Mozilla/5.0 (Windows NT 6.1) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/36.0.1985.125 Safari/537.36
</code></li>
</ul>


<h2>工具</h2>

<ul>
<li><a href="http://www.whatsmyuseragent.com/">http://www.whatsmyuseragent.com/</a></li>
</ul>


<h3>其他</h3>

<ul>
<li><a href="http://www.amazon.cn/gp/product/B00DS33DAA/ref=as_li_tf_tl?ie=UTF8&camp=536&creative=3200&creativeASIN=B00DS33DAA&linkCode=as2&tag=droidyue-23">监督你运动的宝贝</a><img src="http://ir-cn.amazon-adsystem.com/e/ir?t=droidyue-23&l=as2&o=28&a=B00DS33DAA" width="1" height="1" border="0" alt="" style="border:none !important; margin:0px !important;" /></li>
<li><a href="http://www.amazon.cn/gp/product/B008IZ83F8/ref=as_li_tf_tl?ie=UTF8&camp=536&creative=3200&creativeASIN=B008IZ83F8&linkCode=as2&tag=droidyue-23">防雾霾利器</a><img src="http://ir-cn.amazon-adsystem.com/e/ir?t=droidyue-23&l=as2&o=28&a=B008IZ83F8" width="1" height="1" border="0" alt="" style="border:none !important; margin:0px !important;" /></li>
</ul>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[持续整理：Mac快捷键]]></title>
    <link href="http://droidyue.com/blog/2014/07/23/mac-shortcuts/"/>
    <updated>2014-07-23T10:05:00+08:00</updated>
    <id>http://droidyue.com/blog/2014/07/23/mac-shortcuts</id>
    <content type="html"><![CDATA[<p>初入 Mac，很多快捷键不是很了解，常用的都可以记住，不常用的都需要记录。又是一片持续更新的技巧总结。一来备忘，二来帮助他人。</p>

<!--more-->


<h2>实践整理</h2>

<ul>
<li>删除文件：      <strong>Command + Delete</strong></li>
<li>快速预览文件：  <strong>选中按空格</strong></li>
<li>锁屏：          <strong>Shift + Contro + 电源键</strong></li>
</ul>


<h3>官方整理</h3>

<ul>
<li><a href="http://support.apple.com/kb/HT1343?viewlocale=zh_CN">http://support.apple.com/kb/HT1343?viewlocale=zh_CN</a></li>
</ul>


<h3>其他</h3>

<ul>
<li><a href="http://www.amazon.cn/gp/product/B00FXONTU6/ref=as_li_tf_tl?ie=UTF8&camp=536&creative=3200&creativeASIN=B00FXONTU6&linkCode=as2&tag=droidyue-23">从你的全世界路过:让所有人心动的故事</a><img src="http://ir-cn.amazon-adsystem.com/e/ir?t=droidyue-23&l=as2&o=28&a=B00FXONTU6" width="1" height="1" border="0" alt="" style="border:none !important; margin:0px !important;" /></li>
<li><a href="http://www.amazon.cn/gp/product/B0032JTI22/ref=as_li_tf_tl?ie=UTF8&camp=536&creative=3200&creativeASIN=B0032JTI22&linkCode=as2&tag=droidyue-23">拖延心理学(豆瓣拖延小组的镇组之宝)</a><img src="http://ir-cn.amazon-adsystem.com/e/ir?t=droidyue-23&l=as2&o=28&a=B0032JTI22" width="1" height="1" border="0" alt="" style="border:none !important; margin:0px !important;" /></li>
</ul>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[网站卖萌的瞬间记录]]></title>
    <link href="http://droidyue.com/blog/2014/07/21/moeru-web-pages/"/>
    <updated>2014-07-21T19:29:00+08:00</updated>
    <id>http://droidyue.com/blog/2014/07/21/moeru-web-pages</id>
    <content type="html"><![CDATA[<p>本着万物皆可萌的信念,收集了很多个人遇到的比较萌的网站页面,其中很多以404和退订相关的页面.萌妹纸,怪叔叔们,不要鄙视啊.</p>

<!--more-->


<h2>惠惠退订</h2>

<p>烦人的惠惠邮件激怒了我,于是退订了它,居然它哭了,呜呜
<img class="<a" src="href="http://droidyueimg.qiniudn.com/huihui_unsubscribe_page.png">http://droidyueimg.qiniudn.com/huihui_unsubscribe_page.png</a>" title="unsubscribe huihui dm" ></p>

<h2>京东404</h2>

<p>刘强东,你家的小狗跑哪里去了,都把绳子给咬断了.
<img class="<a" src="href="http://droidyueimg.qiniudn.com/jd_404.png">http://droidyueimg.qiniudn.com/jd_404.png</a>" title="jd.com File Not Found" ></p>

<h3>其他</h3>

<ul>
<li><a href="http://www.amazon.cn/gp/product/B00JZ96ZI8/ref=as_li_tf_tl?ie=UTF8&camp=536&creative=3200&creativeASIN=B00JZ96ZI8&linkCode=as2&tag=droidyue-23">解忧杂货店</a><img src="http://ir-cn.amazon-adsystem.com/e/ir?t=droidyue-23&l=as2&o=28&a=B00JZ96ZI8" width="1" height="1" border="0" alt="" style="border:none !important; margin:0px !important;" /></li>
<li><a href="http://www.amazon.cn/gp/product/B00FXONTU6/ref=as_li_tf_tl?ie=UTF8&camp=536&creative=3200&creativeASIN=B00FXONTU6&linkCode=as2&tag=droidyue-23">从你的全世界路过:让所有人心动的故事</a><img src="http://ir-cn.amazon-adsystem.com/e/ir?t=droidyue-23&l=as2&o=28&a=B00FXONTU6" width="1" height="1" border="0" alt="" style="border:none !important; margin:0px !important;" /></li>
</ul>

]]></content>
  </entry>
  
</feed>

<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: 其他 | 技术小黑屋]]></title>
  <link href="http://droidyue.com/blog/categories/qi-ta/atom.xml" rel="self"/>
  <link href="http://droidyue.com/"/>
  <updated>2014-07-20T12:20:30+08:00</updated>
  <id>http://droidyue.com/</id>
  <author>
    <name><![CDATA[androidyue]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[退订招商银行广告邮件那些事]]></title>
    <link href="http://droidyue.com/blog/2014/07/18/unsubscribe-cmb-ad-dm/"/>
    <updated>2014-07-18T13:44:00+08:00</updated>
    <id>http://droidyue.com/blog/2014/07/18/unsubscribe-cmb-ad-dm</id>
    <content type="html"><![CDATA[<p>自从办理信用卡留下了我的gmail邮箱之后,就偶尔收到招商银行的购物类的广告邮件,发现没有多大的用处,于是就决定清理掉.谁知逆天的是,它的退订简直是不能用.</p>

<!--more-->


<h2>招商银行购物类邮件</h2>

<p>购物类广告邮件大概长成这个样子
{%img <a href="http://droidyueimg.qiniudn.com/cmb_ad_mail.png">http://droidyueimg.qiniudn.com/cmb_ad_mail.png</a> CMB Ads DM %}</p>

<h2>无法退订!!!</h2>

<p>当我点击邮件中的退订链接,逆天了,这简直是没有人测试啊
{%img <a href="http://droidyueimg.qiniudn.com/cmb_ad_mail_unsubscribe_page.png">http://droidyueimg.qiniudn.com/cmb_ad_mail_unsubscribe_page.png</a> CMB unsubscripe page %}</p>

<h2>能难倒程序员么</h2>

<p>这段代码简直是太简单了
```javascript
function subEml(flag) {
  var param = window.location.search;
  if (flag == true) {</p>

<pre><code>var url = "https://pbdw.ebank.cmbchina.com/edm/servlet/ExtImageServlet" + param;
document.location.href = url; 
</code></pre>

<p>  } else {</p>

<pre><code>window.close();
</code></pre>

<p>  }
}
<code>``
看一下</code>window.location.search`,结果就是get请求参数
{%img <a href="http://droidyueimg.qiniudn.com/cmb_ad_mail_params.png">http://droidyueimg.qiniudn.com/cmb_ad_mail_params.png</a> cmb ad mail params %}</p>

<h2>解决方法</h2>

<h3>技术宅能听懂的</h3>

<p>其实讲到这里,怎么做你懂得.</p>

<p>将<code>window.location.search</code>得到的值,拼接<code>https://pbdw.ebank.cmbchina.com/edm/servlet/ExtImageServlet</code>,然后进行一个get请求即可.</p>

<h3>小白能听懂的</h3>

<p>点击退订链接后,地址然会有类似<a href="https://pbdw.ebank.cmbchina.com/cbmresource/22/unsub/unSubEml.html?CALL=DMZ_UNSUBINFO">https://pbdw.ebank.cmbchina.com/cbmresource/22/unsub/unSubEml.html?CALL=DMZ_UNSUBINFO</a> 这样的链接,从问号(包含)开始选择到结尾,复制,然后将复制的放在 <a href="https://pbdw.ebank.cmbchina.com/edm/servlet/ExtImageServlet">https://pbdw.ebank.cmbchina.com/edm/servlet/ExtImageServlet</a> 后面,将组合后的地址复制然后粘贴到地址栏按回车就可以了.</p>

<h2>退订成功的标志</h2>

<p>再一次无语的退订成功的界面
{%img <a href="http://droidyueimg.qiniudn.com/cmb_ad_mail_unsubscribe_result.png">http://droidyueimg.qiniudn.com/cmb_ad_mail_unsubscribe_result.png</a> cmd ad mail unsubscribed result %}</p>

<h3>其他</h3>

<ul>
<li><a href="http://www.amazon.cn/gp/product/B00JRUE7VW/ref=as_li_tf_tl?ie=UTF8&camp=536&creative=3200&creativeASIN=B00JRUE7VW&linkCode=as2&tag=droidyue-23">白岩松:行走在爱与恨之间</a><img src="http://ir-cn.amazon-adsystem.com/e/ir?t=droidyue-23&l=as2&o=28&a=B00JRUE7VW" width="1" height="1" border="0" alt="" style="border:none !important; margin:0px !important;" /></li>
<li><a href="http://www.amazon.cn/gp/product/B00KVZ5FBI/ref=as_li_tf_tl?ie=UTF8&camp=536&creative=3200&creativeASIN=B00KVZ5FBI&linkCode=as2&tag=droidyue-23">时寒冰说:未来二十年,经济大趋势(现实篇)</a><img src="http://ir-cn.amazon-adsystem.com/e/ir?t=droidyue-23&l=as2&o=28&a=B00KVZ5FBI" width="1" height="1" border="0" alt="" style="border:none !important; margin:0px !important;" /></li>
</ul>

]]></content>
  </entry>
  
</feed>

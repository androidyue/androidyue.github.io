<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: 网站地图 | 技术小黑屋]]></title>
  <link href="http://droidyue.com/blog/categories/wang-zhan-di-tu/atom.xml" rel="self"/>
  <link href="http://droidyue.com/"/>
  <updated>2015-12-26T12:50:08+08:00</updated>
  <id>http://droidyue.com/</id>
  <author>
    <name><![CDATA[androidyue]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[自定义Octopress404页面]]></title>
    <link href="http://droidyue.com/blog/2014/06/20/custom-octopress-404-page/"/>
    <updated>2014-06-20T22:44:00+08:00</updated>
    <id>http://droidyue.com/blog/2014/06/20/custom-octopress-404-page</id>
    <content type="html"><![CDATA[<p>刚刚在Octopress实现了自定义的404页面。参考别人的文章写的，很容易实现，谁知发现写完后，感觉自己掉进了一个坑，然后又爬了出来，所以，有必要自己写出来一个超级精简没有坑的帖子帮助别人。</p>

<!--more-->


<h2>最简一步到位</h2>

<ul>
<li>只需执行<strong>rake new_page[404.html]</strong> 然后编辑404.html即可。</li>
<li>执行完上述操作404.html页面会创建在source目录下。</li>
<li>说明：网站404页面必须要在最终的Githug Pages网站根目录。</li>
<li>关于404页面，很多人都喜欢设置成公益页面，这里推荐两个公益爱心404页面， <a href="http://www.qq.com/404/">腾讯公司404</a>， <a href="http://yibo.iyiyun.com/Index/web404">益云公益404</a>.</li>
</ul>


<p>我的404.html示例,其中关闭了comments，sharing，去掉了footer。</p>

<h2>```html</h2>

<p>layout: page
title: &ldquo;404&rdquo;
date: 2014-06-20 22:06
comments: false
sharing: false</p>

<h2>footer: false</h2>

<script type="text/javascript" src="http://www.qq.com/404/search_children.js" charset="utf-8"></script>


<p>```
<strong>&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;实现和完美的分割线&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;</strong></p>

<h2>高级处理</h2>

<p>追求完美的人，请继续读下去。</p>

<h3>禁止搜索引擎索引</h3>

<ul>
<li>修改<strong>source/robots.txt</strong> 如文件不存在请创建。</li>
</ul>


<p>我的robots.txt示例</p>

<h2>```html</h2>

<h2>layout: nil</h2>

<p>User-agent: *
Disallow: /404.html</p>

<p>Sitemap: http://droidyue.com/sitemap.xml
```</p>

<h3>禁止404页面加入sitemap</h3>

<ul>
<li>修改<strong>plugins/sitemap_generator.rb</strong></li>
<li>在 EXCLUDED_FILES  中加入404.html</li>
</ul>


<p>sitemap_generator.rb部分示例
```ruby
SITEMAP_FILE_NAME = &ldquo;sitemap.xml&rdquo;</p>

<h1>Any files to exclude from being included in the sitemap.xml</h1>

<p>EXCLUDED_FILES = [&ldquo;atom.xml&rdquo;, &ldquo;404.html&rdquo;]</p>

<h1>Any files that include posts, so that when a new post is added, the last</h1>

<h1>modified date of these pages should take that into account</h1>

<p>```
参考资料：<a href="https://help.github.com/articles/custom-404-pages">https://help.github.com/articles/custom-404-pages</a></p>

<blockquote><p>Written with <a href="https://stackedit.io/">StackEdit</a>.</p></blockquote>
]]></content>
  </entry>
  
</feed>

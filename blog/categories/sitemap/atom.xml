<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: sitemap | 技术小黑屋]]></title>
  <link href="http://droidyue.com/blog/categories/sitemap/atom.xml" rel="self"/>
  <link href="http://droidyue.com/"/>
  <updated>2015-09-14T21:32:41+08:00</updated>
  <id>http://droidyue.com/</id>
  <author>
    <name><![CDATA[androidyue]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[Octopress填坑日记]]></title>
    <link href="http://droidyue.com/blog/2014/06/22/fix-octopress-issues/"/>
    <updated>2014-06-22T10:44:00+08:00</updated>
    <id>http://droidyue.com/blog/2014/06/22/fix-octopress-issues</id>
    <content type="html"><![CDATA[<p>今日开始开始填Octpress在天朝的坑。</p>

<!--more-->


<h3>文件404问题</h3>

<p><img class="<a" src="href="http://7jpolu.com1.z0.glb.clouddn.com/octopress_404_img.png">http://7jpolu.com1.z0.glb.clouddn.com/octopress_404_img.png</a>">
修改代码简直是太辛苦了。毕竟涉及文件比较多。
于是干脆简单粗暴的把这些文件不存在的文件都创建了吧。直接上代码了
<code>bash
cd source/
mkdir github
mkdir github/images
cp images/noise.png github/images/
cp images/line-tile.png github/images/
cp images/rss.png github/images/
cp images/code_bg.png github/images/
</code></p>

<h3>绑定域名更完美</h3>

<p>按照<a href="https://help.github.com/articles/setting-up-a-custom-domain-with-github-pages">https://help.github.com/articles/setting-up-a-custom-domain-with-github-pages</a>说明的绑定域名可以，但是不够完美。 <br/>
举一个例子，我之前的域名为<strong>androidyue.github.io</strong>，新的域名为<strong>droidyue.com</strong>，按照上述操作，可以完成绑定。但是在网站地图文件<strong>sitemap.xml</strong>中还是原来的<strong>androidyue.github.io</strong>。 <br/>
如何解决呢，其实将<a href="http://androidyue.github.io">http://androidyue.github.io</a> 换成 <a href="http://droidyue.com">http://droidyue.com</a> 即可。修改<strong>_config.yml</strong>文件。以下为修改前后diff。
<code>xml
diff --git a/_config.yml b/_config.yml
-url: http://androidyue.github.io
+url: http://droidyue.com
 title: 技术小黑屋
 subtitle: Better Than Before
 author: androidyue
</code></p>

<blockquote><p>Written with <a href="https://stackedit.io/">StackEdit</a>.</p></blockquote>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[自定义Octopress404页面]]></title>
    <link href="http://droidyue.com/blog/2014/06/20/custom-octopress-404-page/"/>
    <updated>2014-06-20T22:44:00+08:00</updated>
    <id>http://droidyue.com/blog/2014/06/20/custom-octopress-404-page</id>
    <content type="html"><![CDATA[<p>刚刚在Octopress实现了自定义的404页面。参考别人的文章写的，很容易实现，谁知发现写完后，感觉自己掉进了一个坑，然后又爬了出来，所以，有必要自己写出来一个超级精简没有坑的帖子帮助别人。</p>

<!--more-->


<h2>最简一步到位</h2>

<ul>
<li>只需执行<strong>rake new_page[404.html]</strong> 然后编辑404.html即可。</li>
<li>执行完上述操作404.html页面会创建在source目录下。</li>
<li>说明：网站404页面必须要在最终的Githug Pages网站根目录。</li>
<li>关于404页面，很多人都喜欢设置成公益页面，这里推荐两个公益爱心404页面， <a href="http://www.qq.com/404/">腾讯公司404</a>， <a href="http://yibo.iyiyun.com/Index/web404">益云公益404</a>.</li>
</ul>


<p>我的404.html示例,其中关闭了comments，sharing，去掉了footer。</p>

<h2>```html</h2>

<p>layout: page
title: &ldquo;404&rdquo;
date: 2014-06-20 22:06
comments: false
sharing: false</p>

<h2>footer: false</h2>

<script type="text/javascript" src="http://www.qq.com/404/search_children.js" charset="utf-8"></script>


<p>```
<strong>&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;实现和完美的分割线&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;</strong></p>

<h2>高级处理</h2>

<p>追求完美的人，请继续读下去。</p>

<h3>禁止搜索引擎索引</h3>

<ul>
<li>修改<strong>source/robots.txt</strong> 如文件不存在请创建。</li>
</ul>


<p>我的robots.txt示例</p>

<h2>```html</h2>

<h2>layout: nil</h2>

<p>User-agent: *
Disallow: /404.html</p>

<p>Sitemap: http://droidyue.com/sitemap.xml
```</p>

<h3>禁止404页面加入sitemap</h3>

<ul>
<li>修改<strong>plugins/sitemap_generator.rb</strong></li>
<li>在 EXCLUDED_FILES  中加入404.html</li>
</ul>


<p>sitemap_generator.rb部分示例
```ruby
SITEMAP_FILE_NAME = &ldquo;sitemap.xml&rdquo;</p>

<h1>Any files to exclude from being included in the sitemap.xml</h1>

<p>EXCLUDED_FILES = [&ldquo;atom.xml&rdquo;, &ldquo;404.html&rdquo;]</p>

<h1>Any files that include posts, so that when a new post is added, the last</h1>

<h1>modified date of these pages should take that into account</h1>

<p>```
参考资料：<a href="https://help.github.com/articles/custom-404-pages">https://help.github.com/articles/custom-404-pages</a></p>

<blockquote><p>Written with <a href="https://stackedit.io/">StackEdit</a>.</p></blockquote>
]]></content>
  </entry>
  
</feed>
